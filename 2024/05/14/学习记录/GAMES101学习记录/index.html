<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>GAMES101学习记录 | WinkySpeed's Blog</title><meta name="author" content="WinkySpeed"><meta name="copyright" content="WinkySpeed"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="GAMES101学习记录 本博客用于记录学习GAMES101时碰到的问题与记录 GAMES101的作业实现也会记录在此 同时，完成作业的过程碰到的问题与解决方案也会记录在此，包括但不限于环境配置、库的基本使用、稀奇古怪的bug Assignment-0 此次作业是配置环境相关内容 由于我在做NJU的icsPA时已经装好了一个Ubuntu的虚拟机，因此这一系列作业都将使用Ubuntu虚拟">
<meta property="og:type" content="article">
<meta property="og:title" content="GAMES101学习记录">
<meta property="og:url" content="http://example.com/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/index.html">
<meta property="og:site_name" content="WinkySpeed&#39;s Blog">
<meta property="og:description" content="GAMES101学习记录 本博客用于记录学习GAMES101时碰到的问题与记录 GAMES101的作业实现也会记录在此 同时，完成作业的过程碰到的问题与解决方案也会记录在此，包括但不限于环境配置、库的基本使用、稀奇古怪的bug Assignment-0 此次作业是配置环境相关内容 由于我在做NJU的icsPA时已经装好了一个Ubuntu的虚拟机，因此这一系列作业都将使用Ubuntu虚拟">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/WinkySpeed%20SP%20-%20Repaired.jpg">
<meta property="article:published_time" content="2024-05-14T07:22:42.000Z">
<meta property="article:modified_time" content="2024-05-26T09:32:04.642Z">
<meta property="article:author" content="WinkySpeed">
<meta property="article:tag" content="计算机图形学">
<meta property="article:tag" content="GAMES101">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Ubuntu">
<meta property="article:tag" content="OpenCV">
<meta property="article:tag" content="Eigen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/WinkySpeed%20SP%20-%20Repaired.jpg"><link rel="shortcut icon" href="/img/WinkySpeed%20SP%20-%20Repaired.jpg"><link rel="canonical" href="http://example.com/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'GAMES101学习记录',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-26 17:32:04'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/WinkySpeed%20SP%20-%20Repaired.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">60</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/33703665_p0.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="WinkySpeed's Blog"><span class="site-name">WinkySpeed's Blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">GAMES101学习记录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-14T07:22:42.000Z" title="发表于 2024-05-14 15:22:42">2024-05-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-26T09:32:04.642Z" title="更新于 2024-05-26 17:32:04">2024-05-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="GAMES101学习记录"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="games101学习记录">GAMES101学习记录</h1>
<p>本博客用于记录学习<a target="_blank" rel="noopener" href="https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html">GAMES101</a>时碰到的问题与记录</p>
<p>GAMES101的<a target="_blank" rel="noopener" href="http://games-cn.org/forums/topic/allhw/">作业</a>实现也会记录在此</p>
<p>同时，完成作业的过程碰到的问题与解决方案也会记录在此，包括但不限于环境配置、库的基本使用、稀奇古怪的bug</p>
<h1 id="assignment-0">Assignment-0</h1>
<p><a target="_blank" rel="noopener" href="http://games-cn.org/forums/topic/graphics-intro-hw0/">此次作业</a>是配置环境相关内容</p>
<p>由于我在做NJU的icsPA时已经装好了一个Ubuntu的虚拟机，因此这一系列作业都将使用Ubuntu虚拟机完成</p>
<h2 id="下载安装vs-code">下载安装VS Code</h2>
<p>用火狐进入<a target="_blank" rel="noopener" href="https://code.visualstudio.com/">VS
Code官网</a>，选择<code>.deb</code>文件进行下载，默认应该保存在<code>~/Downloads/</code>目录下</p>
<p>进入对应目录，运行<code>sudo dpkg -i code_1.89.1-1715060508_amd64.deb</code></p>
<p>这里<code>code_1.89.1-1715060508_amd64.deb</code>是刚下载的<code>.deb</code>文件，不同版本名字不一样，记得替换</p>
<h2 id="配置vs-code">配置VS Code</h2>
<p>还是跟Windows上的配置一样</p>
<p>设置字体为Consolas（Linux默认这个太难看了），参考链接<a target="_blank" rel="noopener" href="https://blog.gloriousdays.pw/2018/08/29/change-font-within-vsc-to-consolas-on-linux/">将
Linux 上的 VSCode 改为 Consolas 字体</a></p>
<p>下载Consolas字体的具体执行过程如下：</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;wget https://down.gloriousdays.pw/Fonts/Consolas.zip</span><br><span class="line">&gt;unzip Consolas.zip</span><br><span class="line">&gt;sudo <span class="built_in">mkdir</span> -p /usr/share/fonts/consolas</span><br><span class="line">&gt;sudo <span class="built_in">cp</span> consola*.ttf /usr/share/fonts/consolas/</span><br><span class="line">&gt;sudo <span class="built_in">chmod</span> 644 /usr/share/fonts/consolas/consola*.ttf</span><br><span class="line">&gt;<span class="built_in">cd</span> /usr/share/fonts/consolas</span><br><span class="line">&gt;sudo mkfontscale &amp;&amp; sudo mkfontdir &amp;&amp; sudo fc-cache -fv</span><br></pre></td></tr></table></figure>
</blockquote>
<p>再设置中文字体为<a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/typography/font-list/microsoft-yahei">微软雅黑</a>，这个字体可以从Windows系统里偷过来，不过这个字体后缀名是<code>.ttc</code>而不是常见的<code>.ttf</code>：</p>
<blockquote>
<p><code>.ttf</code>和<code>.ttc</code>都是字体文件的格式，但它们之间有一些区别：</p>
<ul>
<li><strong><code>.ttf</code>（TrueType
Font）</strong>：这是由Apple和Microsoft共同推出的一种字体文件格式。每个<code>.ttf</code>文件只包含一种字形。凡是支持矢量字体的平台，基本都支持<code>.ttf</code>格式字体。</li>
<li><strong><code>.ttc</code>（TrueType
Collection）</strong>：这是Microsoft开发的一种新的字体格式标准。<code>.ttc</code>文件可以在同一文件结构中包含多个字体，以便更有效地共享轮廓数据，缩减字体文件大小。TTC档会含超过一种字型，例如繁体
Windows 的 <code>Ming.ttc</code> 就包含细明体及新细明体两种字型
(两款字型不同处只是英文固定间距)，而 TTF
就只会含一种字型字体文件后缀。TTC是几个TTF合成的字库，安装后字体列表中会看到两个以上的字体。</li>
</ul>
<p>所以，你看到的微软雅黑字体文件后缀是<code>.ttc</code>，是因为它包含了多种字形。</p>
</blockquote>
<p>把微软雅黑下载到Download目录下后，再执行与上文几乎相同的操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /usr/share/fonts/msyh</span><br><span class="line">sudo <span class="built_in">cp</span> msyh.ttc /usr/share/fonts/msyh/</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /usr/share/fonts/msyh/msyh.ttc</span><br><span class="line"><span class="built_in">cd</span> /usr/share/fonts/msyh</span><br><span class="line">sudo mkfontscale &amp;&amp; sudo mkfontdir &amp;&amp; sudo fc-cache -fv</span><br></pre></td></tr></table></figure>
<p>字体安装完后，直接在VS Code的设置里搜索“Font
Family”，将<code>'Consolas', 'Microsoft YaHei', monospace</code>写入，就完成了这两个字体的设置<del>（还得是visual
studio的字体配置，真的好看又优雅，Ubuntu自带的字体太难绷了）</del></p>
<p>在设置里选上"Format on Save"，即在保存时自动排版</p>
<p>安装C++拓展</p>
<p>安装Code Runner插件，并设置"Code-runner: Run In
Terminal"，即在终端里显示运行结果</p>
<h2 id="安装eigen库">安装<code>Eigen</code>库</h2>
<p>Eigen是本课程使用的线性代数运算库</p>
<p>直接运行<code>sudo apt install libeigen3-dev</code>即可</p>
<h2 id="eigen库基本用法"><code>Eigen</code>库基本用法</h2>
<p>这里是Eigen库的<a target="_blank" rel="noopener" href="https://eigen.tuxfamily.org/dox/">官方文档</a></p>
<h3 id="头文件">头文件</h3>
<p>首先是头文件<code>#include &lt;eigen3/Eigen/Dense&gt;</code></p>
<p>Eigen库的基础使用，只需要用到<code>Eigen/Dense</code>这个文件，官方文档的解释是：</p>
<blockquote>
<p><code>#include &lt;Eigen/Dense&gt;</code></p>
<p>Includes Core, Geometry, LU, Cholesky, SVD, QR, and Eigenvalues
header files</p>
</blockquote>
<p>即<code>&lt;Eigen/Dense&gt;</code>包含了全部基本运算</p>
<p>因为我是Ubuntu系统，安装的是<code>libeigen3-dev</code>，因此需要在<code>/usr/include/eigen3</code>目录下找到<code>Eigen</code>目录</p>
<h3 id="矩阵">矩阵</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"><span class="comment">//	Includes Core, Geometry, LU, Cholesky, SVD, QR, and Eigenvalues header files</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 生成2x2矩阵，未初始化默认为未定义，本机为0</span></span><br><span class="line">    <span class="function">MatrixXd <span class="title">m</span><span class="params">(<span class="number">2</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="comment">// 用(i,j)运算符来访问第i行第j列元素</span></span><br><span class="line">    <span class="built_in">m</span>(<span class="number">0</span>, <span class="number">0</span>) = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">m</span>(<span class="number">1</span>, <span class="number">0</span>) = <span class="number">2.5</span>;</span><br><span class="line">    <span class="built_in">m</span>(<span class="number">0</span>, <span class="number">1</span>) = <span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">m</span>(<span class="number">1</span>, <span class="number">1</span>) = <span class="built_in">m</span>(<span class="number">1</span>, <span class="number">0</span>) + <span class="built_in">m</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 可以直接输出到输出流</span></span><br><span class="line">    cout &lt;&lt; m &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果为</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  <span class="number">3</span>  <span class="number">-1</span></span><br><span class="line"><span class="number">2.5</span> <span class="number">1.5</span></span><br></pre></td></tr></table></figure>
<p>由此可见，<code>MatrixXd</code>是任意维度的矩阵（由倒数第二个字符<code>X</code>表示任意维度，任意指初始化时决定维度），其中每个条目都是双精度的浮点数（由倒数第一个字符<code>d</code>表示<code>double</code>）</p>
<p>同理，<code>MatrixXi</code>为任意维度的<code>int</code>矩阵</p>
<p>同时，如果不初始化数值，默认是“未定义”的，在我机子上结果是0</p>
<p>问了bing，如果想生成全零矩阵怎么做：</p>
<blockquote>
<p>如果你想创建一个所有元素都为0的矩阵，你可以使用<code>Zero</code>函数</p>
<p>例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;Eigen::MatrixXd m = Eigen::MatrixXd::<span class="built_in">Zero</span>(<span class="number">3</span>, <span class="number">3</span>); <span class="comment">// 创建一个3x3的全零矩阵</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>矩阵要用<code>(i,j)</code>运算符来访问第<code>i</code>行第<code>j</code>列元素</p>
<h3 id="向量">向量</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 随机生成3x3矩阵，随机值在-1到1</span></span><br><span class="line">    MatrixXd m = MatrixXd::<span class="built_in">Random</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">    m = (m + MatrixXd::<span class="built_in">Constant</span>(<span class="number">3</span>, <span class="number">3</span>, <span class="number">1.2</span>)) * <span class="number">50</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;m =&quot;</span> &lt;&lt; endl</span><br><span class="line">         &lt;&lt; m &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先初始化</span></span><br><span class="line">    <span class="function">VectorXd <span class="title">v</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="comment">// 再赋值</span></span><br><span class="line">    v &lt;&lt; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;v =&quot;</span> &lt;&lt; endl</span><br><span class="line">         &lt;&lt; v &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 矩阵乘法</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;m * v =&quot;</span> &lt;&lt; endl</span><br><span class="line">         &lt;&lt; m * v &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出为:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">m =</span><br><span class="line"><span class="number">94.0188</span>  <span class="number">89.844</span> <span class="number">43.5223</span></span><br><span class="line"><span class="number">49.4383</span> <span class="number">101.165</span>  <span class="number">86.823</span></span><br><span class="line"><span class="number">88.3099</span> <span class="number">29.7551</span> <span class="number">37.7775</span></span><br><span class="line">v =</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">m * v =</span><br><span class="line"><span class="number">404.274</span></span><br><span class="line"><span class="number">512.237</span></span><br><span class="line"><span class="number">261.153</span></span><br></pre></td></tr></table></figure>
<p><code>MatrixXd::Random(3, 3)</code>这个函数生成的是一个3x3矩阵，随机值在<code>-1</code>和<code>1</code>之间</p>
<p><code>MatrixXd::Constant(3, 3, 1.2)</code>这个函数，生成的是一个3x3矩阵，每一个元素都为双精度浮点数<code>1.2</code>（因此上文中创建一个所有元素都为0的矩阵也可以用这个函数）</p>
<p>根据输出结果可见，向量默认为<strong>列向量</strong></p>
<p>如果想实现<strong>行向量</strong>，就用<code>RowVectorXd</code>实现</p>
<h3 id="总结">总结</h3>
<p>简单使用方法目前介绍到此为止，后续实验中如果碰到新的内容会在对应位置记录，现阶段总结如下：</p>
<p>一般都是先初始化矩阵或向量，再用<code>&lt;&lt;</code>运算符赋值，如</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">MatrixXf <span class="title">m</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">m &lt;&lt; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,</span><br><span class="line">     <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>,</span><br><span class="line">     <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">VectorXd <span class="title">v</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">v &lt;&lt; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>初始化时可以用对应的函数，如用<code>MatrixXd</code>初始化的矩阵<code>m</code>，可以用<code>MatrixXd</code>对应的函数初始化，如</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MatrixXf m = MatrixXf::<span class="built_in">Zero</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p>矩阵和向量可以直接用<code>&lt;&lt;</code>运算符输出到输出流</p>
<p>矩阵和向量都要用<code>()</code>运算符访问元素</p>
<h2 id="作业代码">作业代码</h2>
<p>代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">VectorXd <span class="title">P</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">    P &lt;&lt; <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>;</span><br><span class="line">    <span class="function">MatrixXd <span class="title">RotationMat</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="type">double</span> angle = (<span class="type">double</span>)<span class="number">45</span> / <span class="number">180</span> * <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line">    RotationMat &lt;&lt; <span class="built_in">cos</span>(angle), -<span class="built_in">sin</span>(angle), <span class="number">0</span>,</span><br><span class="line">        <span class="built_in">sin</span>(angle), <span class="built_in">cos</span>(angle), <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    <span class="function">MatrixXd <span class="title">TranslateMat</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    TranslateMat &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    P = TranslateMat * RotationMat * P;</span><br><span class="line">    cout &lt;&lt; P &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意<code>double angle = (double)45 / 180 * acos(-1);</code>这一句，如果<code>45</code>不加<code>(double)</code>就要写成<code>45.0</code>，不然会被识别成<code>int</code>的45，除法结果为0，不符预期</p>
<h1 id="assignment-1">Assignment-1</h1>
<h2 id="unzip中文乱码问题"><code>unzip</code>中文乱码问题</h2>
<p>这次作业给了代码框架，于是就需要在Ubuntu下载这次作业</p>
<p>运行如下指令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://games-cn.org/wp-content/uploads/2020/02/Assignment1.zip</span><br></pre></td></tr></table></figure>
<p>就能获得这个<code>zip</code>压缩包，放到对应位置后解压：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip Assignment1.zip</span><br></pre></td></tr></table></figure>
<p>但是发现输出和最后解压的结果是乱码，我应该安装了中文，只是环境用的英文环境，挺奇怪的</p>
<p>经过一系列<a target="_blank" rel="noopener" href="https://www.cnblogs.com/jingzhishen/p/4983805.html">查找资料</a>后，发现问题所在：<code>unzip</code>命令没有指定字符集，于是执行<code>unzip -O CP936 Assignment1.zip</code>就能正常实现了</p>
<p>但是如果每次<code>unzip</code>都要加这个那就太麻烦了，于是直接给写进环境变量里：</p>
<blockquote>
<p>在环境变量中，指定<code>unzip</code>参数，总是以指定的字符集显示和解压文件</p>
<p><code>/etc/environment</code>中加入2行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;UNZIP=<span class="string">&quot;-O CP936&quot;</span></span><br><span class="line"></span><br><span class="line">&gt;ZIPINFO=<span class="string">&quot;-O CP936&quot;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>添加完需要重启，才能起效</p>
<p>参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/youyoui/p/10680329.html">Linux环境变量配置全攻略</a></p>
<h2 id="ubuntu-22.04中文拼音输入法">Ubuntu 22.04中文拼音输入法</h2>
<p>我没想到这个还有点烦人</p>
<p>最后发现是没有重启的原因，有点难绷</p>
<p>参考<a target="_blank" rel="noopener" href="https://askubuntu.com/questions/1408873/ubuntu-22-04-chinese-simplified-pinyin-input-support">Ubuntu
22.04 Chinese (simplified) pinyin input support</a></p>
<p>Ubuntu中切换输入法快捷键：<code>win + 空格</code></p>
<h2 id="ubuntu上opencv安装">Ubuntu上<code>OpenCV</code>安装</h2>
<p>好啊，又折磨了一下午，终于把这个库装好了</p>
<p>比Windows的安装麻烦许多，中途还是踩了一些坑的，<strong>最大的坑</strong>就是<code>opencv4.pc</code>这个文件</p>
<h3 id="正确的安装过程">正确的安装过程</h3>
<p><a id="OpenCVSuccessInstalled"></a></p>
<p>主要参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/s15810751918/article/details/107705387">linux下编译安装opencv生成opencv.pc</a></p>
<ul>
<li><p>首先安装<code>cmake</code>和所需依赖环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install cmake</span><br><span class="line">sudo apt-get install build-essential libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg-dev libswscale-dev libtiff5-dev</span><br><span class="line">sudo apt-get install pkg-config</span><br></pre></td></tr></table></figure></li>
<li><p>然后去<a target="_blank" rel="noopener" href="https://opencv.org/releases/">官网</a>下载对应版本的Sources，我安装的版本为4.8.0</p>
<p>下载完了直接解压即可，<code>cd</code>进入对应目录，如<code>/home/winkyspeed/Libs/opencv-4.8.0</code></p></li>
<li><p>在<strong>此目录</strong>下新建<code>build</code>文件夹，并且进入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br></pre></td></tr></table></figure></li>
<li><p>接下来用<code>cmake</code>命令进行配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=ON -D CMAKE_INSTALL_PREFIX=/usr/local ..</span><br></pre></td></tr></table></figure>
<p>其中，<code>-D</code>用于定义变量，使用<code>-D</code>选项来设置CMake的变量，这些变量会在CMake运行时被使用</p>
<p><code>CMAKE_BUILD_TYPE=Release</code>指定构件类型为<code>Release</code>版，类似于Windows里Visual
Studio里选择Debug模式还是Release模式</p>
<p><code>OPENCV_GENERATE_PKGCONFIG=ON</code>这个可<strong>太重要</strong>了，选了这个选项就代表少踩一个大坑，这个选项选上的时候，编译过程中会自动生成<code>pkg-config</code>的配置文件，即<code>opencv4.cp</code></p>
<p><code>CMAKE_INSTALL_PREFIX=/usr/local</code>指定编译结果安装到<code>/usr/local</code>目录下，这也是默认的编译路径</p>
<p><code>..</code>：最后还有两个点，指向当前目录的父目录，表示CMake会在父目录中查找<code>CMakeLists.txt</code>文件</p></li>
<li><p>进行编译，执行如下指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make -j8</span><br></pre></td></tr></table></figure>
<p>指定多线程编译，会稍微快一点</p>
<p>这里需要编译一段时间，耐心等待即可</p></li>
<li><p>进行安装，执行如下指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li>
<li><p>配置环境</p>
<ul>
<li><p>用文本编辑器（如VS
Code或vim）打开<code>/etc/ld.so.conf</code>，在文件最后一行添加：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include /usr/local/lib</span><br></pre></td></tr></table></figure>
<p>添加的这个路径就是OpenCV的<code>lib</code>库，即动态链接库</p>
<p>添加完保存退出，再运行如下指令来更新缓存</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在Linux系统中，<code>/etc/ld.so.conf</code>文件记录了编译时使用的动态库的路径，也就是加载<code>.so</code>库的路径。默认情况下，编译器只会使用<code>/lib</code>和<code>/usr/lib</code>这两个目录下的库文件。如果你的库文件安装在其他路径（比如<code>/usr/local/lib</code>），那么你需要在<code>/etc/ld.so.conf</code>文件中添加这个路径。</p>
<p>当你在<code>/etc/ld.so.conf</code>文件中添加新的库路径后，你需要运行<code>ldconfig</code>命令来更新动态链接库的缓存。</p>
</blockquote></li>
<li><p>用文本编辑器打开<code>/etc/bash.bashrc</code>，在文本末尾添加：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PKG_CONFIG_PATH=<span class="variable">$PKG_CONFIG_PATH</span>:/usr/local/lib/pkgconfig</span><br><span class="line"> </span><br><span class="line"><span class="built_in">export</span> PKG_CONFIG_PATH</span><br></pre></td></tr></table></figure>
<p>新添加的这个<code>PKG_CONFIG_PATH</code>环境变量指定了<code>pkg-config</code>工具在指定目录下查找<code>.pc</code>文件，这个文件包含了库的编译和链接信息</p>
<p><code>pkg-config</code>的默认路径是：<code>/usr/lib/pkgconfig/</code>和<code>/usr/share/pkgconfig/</code>，这里我们新添加一个路径：<code>/usr/local/lib/pkgconfig</code></p>
<p>因为<code>cmake</code>命令配置时<code>OPENCV_GENERATE_PKGCONFIG=ON</code>这个命令，OpenCV在编译过程中自动生成了这个<code>opencv4.pc</code>文件，如图</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20240515211915410.png" class title="image-20240515211915410">
<p>因此，我们需要把这个路径加入<code>pkg-config</code>的查找路径，使之能查找到我们需要的<code>opencv4.pc</code></p>
<p>添加完保存退出，再运行如下指令来更新缓存</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/bash.bashrc</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p>检验是否安装成功</p>
<p>终端输入如下指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg-config opencv4 --modversion</span><br></pre></td></tr></table></figure>
<p>有版本输出，说明安装成功</p></li>
</ul>
<p><br></p>
<h3 id="我经历的折磨">我经历的折磨</h3>
<p>记录最开始未成功的解决方案，成功的解决方案是上文<a href="#OpenCVSuccessInstalled">正确的安装过程</a></p>
<p>最折磨的一点就是<code>opencv4.pc</code>这个文件，我最开始在编译的时候没选<code>OPENCV_GENERATE_PKGCONFIG=ON</code>自动生成，而是在出错之后想着手动写入<code>opencv.pc</code>，但因为库之间是有依赖关系的，所以如果顺序放错也会找不到，最好还是自动生成</p>
<p>主要参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/public669/article/details/99044895">ubuntu安装opencv的正确方法</a>，但是最后那块会出现问题，具体什么问题下文会详细记录，因此又参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/qianbin3200896/article/details/107894029">在Ubuntu18.04中安装OpenCV4.5</a>这篇文章的部分内容（手动创建<code>opencv.pc</code>及之后部分），部分解决方案参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47552638/article/details/124081537">opencv2在opencv4文件夹内</a></p>
<p><br></p>
<p>前面逻辑大体一致，跟着<a target="_blank" rel="noopener" href="https://blog.csdn.net/public669/article/details/99044895">教程</a>走直到最后<code>pkg-config opencv --modversion</code>这一步，我发现报错了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Package opencv was not found <span class="keyword">in</span> the pkg-config search path.</span><br><span class="line">Perhaps you should add the directory containing `opencv.pc<span class="string">&#x27;</span></span><br><span class="line"><span class="string">to the PKG_CONFIG_PATH environment variable</span></span><br><span class="line"><span class="string">No package &#x27;</span>opencv<span class="string">&#x27; found</span></span><br></pre></td></tr></table></figure>
<p>可能是因为OpenCV在高版本就不自动生成<code>.pc</code>文件了</p>
<p>看评论区有人提到了<a target="_blank" rel="noopener" href="https://blog.csdn.net/qianbin3200896/article/details/107894029">另一篇教程</a>，手动创建<code>opencv.pc</code>部分，又照着实现，勉强能在控制台输出版本号了，我就以为结束了，殊不知编译代码的时候根本找不到这些链接库，烦死了</p>
<p>然后我再去尝试跑最简单的CV库代码，读取一张图并显示出来，又出问题了：</p>
<p>我们需要包含的头文件<code>&lt;opencv.hpp&gt;</code>在<code>/usr/local/include/opencv4/opencv2/</code>目录下</p>
<p>但是正常写代码的时候一般都写<code>#include &lt;opencv2/opencv.hpp&gt;</code>，而搜索的时候只会在<code>/usr/local/include/</code>等目录中搜索，理所当然的<strong>搜索不到<code>opencv2</code>目录</strong>下的<code>opencv.hpp</code>文件，导致无法正常运行</p>
<p>我就去找了这样的一篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47552638/article/details/124081537">文章</a>，用创建一个“软链接”的方法，在<code>/usr/local/include/</code>目录中创建一个指向<code>opencv2</code>目录的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/include/opencv4/opencv2 /usr/local/include/</span><br></pre></td></tr></table></figure>
<p>这样在VS
Code中可以正确找到对应的头文件，我就以为问题解决了<del>（但是并没有）</del>，不过这个步骤还是挺有用的</p>
<p><br></p>
<p>为了避免别人再犯一样的错误，我这里把<strong>自动生成</strong>的<code>.pc</code>文件放在这里，如果想手动输入可以参考，但是可能会因为版本号对不上再导致新的问题，还是建议自动生成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Package Information for pkg-config</span></span><br><span class="line"></span><br><span class="line">prefix=/usr/local</span><br><span class="line">exec_prefix=<span class="variable">$&#123;prefix&#125;</span></span><br><span class="line">libdir=<span class="variable">$&#123;exec_prefix&#125;</span>/lib</span><br><span class="line">includedir=<span class="variable">$&#123;prefix&#125;</span>/include/opencv4</span><br><span class="line"></span><br><span class="line">Name: OpenCV</span><br><span class="line">Description: Open Source Computer Vision Library</span><br><span class="line">Version: 4.8.0</span><br><span class="line">Libs: -L<span class="variable">$&#123;exec_prefix&#125;</span>/lib -lopencv_gapi -lopencv_highgui -lopencv_ml -lopencv_objdetect -lopencv_photo -lopencv_stitching -lopencv_video -lopencv_calib3d -lopencv_features2d -lopencv_dnn -lopencv_flann -lopencv_videoio -lopencv_imgcodecs -lopencv_imgproc -lopencv_core</span><br><span class="line">Libs.private: -ldl -lm -lpthread -lrt</span><br><span class="line">Cflags: -I<span class="variable">$&#123;includedir&#125;</span></span><br></pre></td></tr></table></figure>
<p>我在知道能自动生成<code>.pc</code>文件后直接去问bing解决措施：</p>
<blockquote>
<p>我现在想重新设置cmake，多加一个<code>-D OPENCV_GENERATE_PKGCONFIG=ON</code>
我该怎么做？重装OpenCV吗？</p>
<p><br></p>
<p>你不需要重新安装OpenCV，只需要重新配置并编译即可。你可以按照以下步骤操作：</p>
<ol type="1">
<li>首先，你需要清理之前的构建文件。在你的build目录下执行以下命令：</li>
</ol>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make clean</span><br></pre></td></tr></table></figure></p>
<ol start="2" type="1">
<li>然后，你可以重新运行cmake命令，并添加<code>-D OPENCV_GENERATE_PKGCONFIG=ON</code>选项：</li>
</ol>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=ON -D CMAKE_INSTALL_PREFIX=/usr/local ..</span><br></pre></td></tr></table></figure></p>
<ol start="3" type="1">
<li>最后，重新编译和安装OpenCV：</li>
</ol>
<p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo make -j8</span><br><span class="line"> sudo make install</span><br></pre></td></tr></table></figure></p>
<p>完成以上步骤后，你应该可以在<code>/usr/local/lib/pkgconfig/</code>目录下找到<code>opencv4.pc</code>文件了。</p>
</blockquote>
<p>于是就安装成功了</p>
<p>这件事告诉我们，有时候走错了路或者选错了方向以后，是可以回头重新审视修改的，不需要为了证明在一个方向是错误的还是正确的而一条路走到黑，退后一步也许就会海阔天空</p>
<h2 id="vs-code配置code-runner运行opencv库">VS Code配置Code
Runner运行<code>OpenCV</code>库</h2>
<p>我是喜欢用Code Runner来跑代码的，如果喜欢手动编译也是可以的</p>
<p>配置这个还是比较容易的<del>（前提是前文的OpenCV安装成功）</del></p>
<p>OpenCV安装成功的标志是：在终端运行如下指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg-config --cflags --libs opencv4</span><br></pre></td></tr></table></figure>
<p>输出如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">winkyspeed@VMachine:~$ pkg-config --cflags --libs opencv4</span><br><span class="line">-I/usr/local/include/opencv4 -L/usr/local/lib -lopencv_gapi -lopencv_highgui -lopencv_ml -lopencv_objdetect -lopencv_photo -lopencv_stitching -lopencv_video -lopencv_calib3d -lopencv_features2d -lopencv_dnn -lopencv_flann -lopencv_videoio -lopencv_imgcodecs -lopencv_imgproc -lopencv_core</span><br></pre></td></tr></table></figure>
<p>就说明成功了</p>
<p><br></p>
<p>打开VS
Code的设置，选择工作区（比如GAMES101，工作区需要手动添加），搜索<code>Code-runner:Executor Map</code>，点击<code>Edit in settings.json</code></p>
<p>这样就会在工作区目录下创建一个<code>.vscode</code>目录，下面就有一个<code>settings.json</code>文件</p>
<p>把<code>cpp</code>一行修改为如下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;cpp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; g++ -std=c++11 $fileName -o $fileNameWithoutExt `pkg-config --cflags --libs opencv4` &amp;&amp; $dir$fileNameWithoutExt&quot;</span></span><br></pre></td></tr></table></figure>
<p>就可以了</p>
<p>成功跑通最基础的代码，说明OpenCV库安装成功并且代码能够正常执行：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Mat test = <span class="built_in">imread</span>(<span class="string">&quot;5.jpg&quot;</span>);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;test&quot;</span>, test);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20240515202746458.png" class title="image-20240515202746458">
<p>不得不说我选的图真好</p>
<p>本来没考虑那么多，想着选个石头门的全家福用来测试OpenCV库的，结果第一遍配置完成的时候代码却不能正常跑通</p>
<p>当时就给我整不会了，这可是最基本的代码啊，而且我为了装这个库已经花了一个下午的时间了</p>
<p>所以当我解决全部问题，终于跑出来这个结果时，看到了蛋糕上的おめでとう，就感觉这一切值得了（虽然桶子的脑袋只留下了一半）</p>
<h2 id="vs-code找不到头文件">VS Code找不到头文件</h2>
<p>如果<code>#include &lt;opencv2/opencv.hpp&gt;</code>这一行爆红了，应该是找不到头文件的问题</p>
<p>如果按照上文正确配置了，代码应该是能正常运行的，即编译器在编译时能找到文件，但是编辑器没找到文件</p>
<p>正常使用时需要包含的头文件<code>&lt;opencv.hpp&gt;</code>在<code>/usr/local/include/opencv4/opencv2/</code>目录下</p>
<p>搜索的时候只会在<code>/usr/local/include/</code>等目录中搜索，理所当然的<strong>搜索不到<code>opencv2</code>目录</strong>下的<code>opencv.hpp</code>文件，导致无法正常运行</p>
<p>解决方法也很容易，有以下两种</p>
<h3 id="软链接">软链接</h3>
<p>我找到了这样一篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47552638/article/details/124081537">文章</a>，用创建一个“软链接”的方法，在<code>/usr/local/include/</code>目录中创建一个指向<code>opencv2</code>目录的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/include/opencv4/opencv2 /usr/local/include/</span><br></pre></td></tr></table></figure>
<p>这样在VS Code中可以正确找到对应的头文件</p>
<p><br></p>
<h3 id="设置vs-code工作区">设置VS Code工作区</h3>
<p>前文中也已经对这个工作区的Code
Runner进行自定义过了，因此也可以再自定义<code>include</code>路径</p>
<ul>
<li><p>打开VSCode的工作区设置（<code>.vscode/c_cpp_properties.json</code>文件），如果这个文件不存在，可以通过<code>Ctrl+Shift+P</code>打开命令面板，然后输入<code>C/C++: Edit Configurations (JSON)</code>来创建</p></li>
<li><p>在<code>c_cpp_properties.json</code>文件中，找到<code>includePath</code>字段，然后添加OpenCV头文件的路径，即<code>/usr/local/include/opencv4</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;/usr/local/include/opencv4&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>这样，VSCode也可以找到<code>opencv2</code>目录，进而找到文件</p>
<h2 id="作业代码-1">作业代码</h2>
<p>还是比较容易</p>
<p>最终的算法是<code>viewport * Ortho * Pers-&gt;Ortho * ModelView * 原始坐标</code>，依次左乘一系列矩阵得到最终的答案</p>
<p>参考<a target="_blank" rel="noopener" href="https://games-cn.org/forums/topic/关于透视投影矩阵的问题/">关于透视投影矩阵的问题</a></p>
<h3 id="基础实现">基础实现</h3>
<p>旋转矩阵：</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20240523171023413.png" class title="image-20240523171023413">
<p>按照旋转矩阵，得到绕XYZ三个轴旋转的结果如下</p>
<p>我在参数里多加了一个<code>int axis</code>，默认赋值为0，指明绕<code>Z, Y, X</code>哪个轴旋转</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绕XYZ三个轴旋转</span></span><br><span class="line"><span class="function">Eigen::Matrix4f <span class="title">get_model_matrix</span><span class="params">(<span class="type">float</span> rotation_angle, <span class="type">int</span> axis = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Eigen::Matrix4f model = Eigen::Matrix4f::<span class="built_in">Identity</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Implement this function</span></span><br><span class="line">    <span class="comment">// Create the model matrix for rotating the triangle around the Z axis.</span></span><br><span class="line">    <span class="comment">// Then return it.</span></span><br><span class="line">    <span class="type">double</span> angle = rotation_angle / <span class="number">180</span> * MY_PI;</span><br><span class="line">    Eigen::Matrix4f Rotation;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (axis == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Z axis</span></span><br><span class="line">        Rotation &lt;&lt; <span class="built_in">cos</span>(angle), -<span class="built_in">sin</span>(angle), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">            <span class="built_in">sin</span>(angle), <span class="built_in">cos</span>(angle), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (axis == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Y axis</span></span><br><span class="line">        Rotation &lt;&lt; <span class="built_in">cos</span>(angle), <span class="number">0</span>, <span class="built_in">sin</span>(angle), <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">            -<span class="built_in">sin</span>(angle), <span class="number">0</span>, <span class="built_in">cos</span>(angle), <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// X axis</span></span><br><span class="line">        Rotation &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="built_in">cos</span>(angle), -<span class="built_in">sin</span>(angle), <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="built_in">sin</span>(angle), <span class="built_in">cos</span>(angle), <span class="number">0</span>,</span><br><span class="line">            <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    model = Rotation * model;</span><br><span class="line">    <span class="keyword">return</span> model;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再看投影矩阵函数</p>
<p>需要根据FOV和宽高比计算出对应大小的立方体，再进行相应计算</p>
<p>我这里是用水平FOV进行计算的</p>
<p>有一点需要注意：GAMES101课程中讲的<code>zNear</code>和<code>zFar</code>都是负数</p>
<p>但是主函数调用时代入参数为正数：<code>r.set_projection(get_projection_matrix(45, 1, 0.1, 50));</code></p>
<p>因此，如果按课程内容进行运算时，就要乘<code>-1</code></p>
<p>还有一点需要注意：计算对应坐标时，用到了<code>zNear</code>的<strong>长度</strong>，故需要调用<code>abs()</code>函数求绝对值，不然即使改了<code>zNear</code>和<code>zFar</code>都是负数以后，也仍然会出现<strong>倒三角</strong>的情况</p>
<p>代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Eigen::Matrix4f <span class="title">get_projection_matrix</span><span class="params">(<span class="type">float</span> eye_fov, <span class="type">float</span> aspect_ratio,</span></span></span><br><span class="line"><span class="params"><span class="function">                                      <span class="type">float</span> zNear, <span class="type">float</span> zFar)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Students will implement this function</span></span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f projection = Eigen::Matrix4f::<span class="built_in">Identity</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Implement this function</span></span><br><span class="line">    <span class="comment">// Create the projection matrix for the given parameters.</span></span><br><span class="line">    <span class="comment">// Then return it.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// GAMES101课程中讲的zNear和zFar都是负数</span></span><br><span class="line">    <span class="comment">// 但是代入的值都是正数</span></span><br><span class="line">    <span class="comment">// 因此按课程内容进行运算时，就要乘-1</span></span><br><span class="line">    zNear *= <span class="number">-1</span>;</span><br><span class="line">    zFar *= <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 透视矩阵</span></span><br><span class="line">    Eigen::Matrix4f Persp;</span><br><span class="line">    Persp &lt;&lt; zNear, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, zNear, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, zNear + zFar, -zNear * zFar,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过fov和宽高比例计算出l, r, b, t</span></span><br><span class="line">    <span class="comment">// aspect_ratio就是宽高比</span></span><br><span class="line">    <span class="type">float</span> left, right, bottom, top;</span><br><span class="line">    <span class="type">float</span> angle = eye_fov / <span class="number">180</span> * MY_PI;</span><br><span class="line">    <span class="comment">// 注意课程内容里是用长度，计算时要加 abs 算绝对值</span></span><br><span class="line">    left = -<span class="built_in">tan</span>(angle / <span class="number">2</span>) * <span class="built_in">abs</span>(zNear);</span><br><span class="line">    right = <span class="built_in">tan</span>(angle / <span class="number">2</span>) * <span class="built_in">abs</span>(zNear);</span><br><span class="line">    <span class="comment">// 如果用如下代码(即不计算绝对值),则会导致倒三角的情况</span></span><br><span class="line">    <span class="comment">// **************************************</span></span><br><span class="line">    <span class="comment">// left = -tan(angle / 2) * zNear;      *</span></span><br><span class="line">    <span class="comment">// right = tan(angle / 2) * zNear;      *</span></span><br><span class="line">    <span class="comment">// **************************************</span></span><br><span class="line">    bottom = left / aspect_ratio;</span><br><span class="line">    top = right / aspect_ratio;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 位移矩阵</span></span><br><span class="line">    Eigen::Matrix4f translate;</span><br><span class="line">    translate &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, -(left + right) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -(top + bottom) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -(zNear + zFar) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 缩放矩阵</span></span><br><span class="line">    Eigen::Matrix4f scale;</span><br><span class="line">    scale &lt;&lt; <span class="number">2</span> / (right - left), <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">2</span> / (top - bottom), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span> / (zNear - zFar), <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    projection = scale * translate * Persp * projection;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> projection;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="编译运行">编译运行</h3>
<p>第一次动手用<code>cmake</code>编译自己的项目，因此记录</p>
<p>在<code>main.cpp</code><strong>同级目录下</strong>（即“代码框架”目录下）运行以下指令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir build     // 创建build文件夹用于保留工程文件</span><br><span class="line">cd build        // 进入build文件夹</span><br><span class="line">cmake ..        // 通过提供CMakeLists.txt文件的路径（父目录）作为参数来运行CMake</span><br><span class="line">make −j8        // 通过make编译代码， −j8 表示8个内核进行并行化编译</span><br><span class="line">./Rasterizer    // 运行代码</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Rotation_normal.gif" class title="Rotation_normal">
<p>按A键三角形逆时针旋转，按D键三角形顺时针旋转</p>
<p><br></p>
<h3 id="进阶实现任意轴">进阶实现——任意轴</h3>
<p>这个也不是很难，不过需要注意“任意轴”是任意方向，并且过任意点</p>
<p>“任意轴”的方向可以用一个<code>Vector3f</code>给定，“任意点”的位置同理</p>
<p>罗德里德斯旋转公式默认是绕过原点<code>(0,0,0)</code>的轴旋转的</p>
<p>因此需要在旋转前把这个任意点移动到原点，再绕原点旋转，再把点移动回去，就能得到结果</p>
<p>具体做法是：<code>Translate_back * Rotation * Translate</code></p>
<p>有一点需要注意：按照罗德里德斯旋转公式得到的结果是一个<code>3x3</code>的矩阵，变换要考虑<strong>齐次坐标</strong>，即变成<code>4x4</code>的矩阵</p>
<p><br></p>
<p>Rodrigues’ Rotation Formula 如下：</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20240523230656484.png" class title="image-20240523230656484">
<p>注意，罗德里德斯旋转公式的旋转轴要是一个<strong>单位向量</strong>，因此需要做正则化处理</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绕任意轴旋转任意角度</span></span><br><span class="line"><span class="comment">// 任意轴的定义方法：过任意点的任意向量（不一定是单位向量，指明方向即可）</span></span><br><span class="line"><span class="comment">// 代入的方向与点都是三维的，不需要考虑齐次坐标</span></span><br><span class="line"><span class="function">Eigen::Matrix4f <span class="title">get_model_matrix_arbitrary_axis</span><span class="params">(Eigen::Vector3f axis_direction,</span></span></span><br><span class="line"><span class="params"><span class="function">                                                Eigen::Vector3f point,</span></span></span><br><span class="line"><span class="params"><span class="function">                                                <span class="type">float</span> rotation_angle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 先将这个向量过的点移回原点</span></span><br><span class="line">    Eigen::Matrix4f Translate;</span><br><span class="line">    Translate &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, -<span class="built_in">point</span>(<span class="number">0</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="built_in">point</span>(<span class="number">1</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="built_in">point</span>(<span class="number">2</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 再旋转相应角度，运用罗德里格斯旋转公式</span></span><br><span class="line">    <span class="comment">// 方向向量正则化</span></span><br><span class="line">    axis_direction.<span class="built_in">normalize</span>();</span><br><span class="line">    <span class="comment">// 计算角度</span></span><br><span class="line">    <span class="type">float</span> theta = rotation_angle / <span class="number">180</span> * MY_PI;</span><br><span class="line">    <span class="comment">// 计算cos和sin</span></span><br><span class="line">    <span class="type">float</span> cos_theta = <span class="built_in">cos</span>(theta);</span><br><span class="line">    <span class="type">float</span> sin_theta = <span class="built_in">sin</span>(theta);</span><br><span class="line">    <span class="comment">// 根据公式计算旋转矩阵，公式来源: GAMES101_Lecture_04 P10</span></span><br><span class="line">    <span class="comment">// Rodrigues’ Rotation Formula: Rotation by angle theta around axis n</span></span><br><span class="line">    <span class="comment">// R(n, theta) = cos(theta) * I + (1 - cos(theta)) * n * n.T + sin(theta) * N</span></span><br><span class="line">    <span class="comment">// N = &#123; 0, -nz, ny,</span></span><br><span class="line">    <span class="comment">//      nz, 0, -nx,</span></span><br><span class="line">    <span class="comment">//      -ny, nx, 0 &#125;</span></span><br><span class="line">    <span class="comment">// 注意：这个矩阵算出来是3x3的，最后要加齐次坐标变成4x4的旋转矩阵</span></span><br><span class="line">    Matrix3f N;</span><br><span class="line">    N &lt;&lt; <span class="number">0</span>, -<span class="built_in">axis_direction</span>(<span class="number">2</span>), <span class="built_in">axis_direction</span>(<span class="number">1</span>),</span><br><span class="line">        <span class="built_in">axis_direction</span>(<span class="number">2</span>), <span class="number">0</span>, -<span class="built_in">axis_direction</span>(<span class="number">0</span>),</span><br><span class="line">        -<span class="built_in">axis_direction</span>(<span class="number">1</span>), <span class="built_in">axis_direction</span>(<span class="number">0</span>), <span class="number">0</span>;</span><br><span class="line">    Matrix3f Rotation_3x3;</span><br><span class="line">    Matrix3f Eye = Matrix3f::<span class="built_in">Identity</span>();</span><br><span class="line">    Rotation_3x3 = cos_theta * Eye + (<span class="number">1</span> - cos_theta) * axis_direction * axis_direction.<span class="built_in">transpose</span>() + sin_theta * N;</span><br><span class="line">    <span class="comment">// 将3x3旋转矩阵扩展为4x4旋转矩阵</span></span><br><span class="line">    Matrix4f Rotation_4x4 = Matrix4f::<span class="built_in">Identity</span>();</span><br><span class="line">    Rotation_4x4.<span class="built_in">block</span>&lt;<span class="number">3</span>, <span class="number">3</span>&gt;(<span class="number">0</span>, <span class="number">0</span>) = Rotation_3x3; <span class="comment">// 将3x3旋转矩阵嵌入到左上角</span></span><br><span class="line">    <span class="comment">// 最后将这个向量过的点移回去</span></span><br><span class="line">    Eigen::Matrix4f Translate_back;</span><br><span class="line">    Translate_back &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">point</span>(<span class="number">0</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="built_in">point</span>(<span class="number">1</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="built_in">point</span>(<span class="number">2</span>),</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 计算最终的4x4矩阵</span></span><br><span class="line">    Eigen::Matrix4f result = Translate_back * Rotation_4x4 * Translate;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对应<code>main</code>函数也需要做修改，把<code>get_model_matrix(angle)</code>注释掉，换成刚刚写的新函数，并且前面指定“轴”和“任意点”的变量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 过任意轴, 指定Y正方向,过(0,0,-2)</span></span><br><span class="line">Vector3f axis, point;</span><br><span class="line">axis &lt;&lt; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>;</span><br><span class="line">point &lt;&lt; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-2</span>;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// r.set_model(get_model_matrix(angle));</span></span><br><span class="line">r.<span class="built_in">set_model</span>(<span class="built_in">get_model_matrix_arbitrary_axis</span>(axis, point, angle));</span><br></pre></td></tr></table></figure>
<p>我指定了绕过<code>(0,0,-2)</code>的，沿Y轴正方向的轴旋转，结果如下：</p>
<img src="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Rotation_arbitraryaxis.gif" class title="Rotation_arbitraryaxis">
<p><br></p>
<p><br></p>
<p><br></p>
<hr>
<h1 id="参考资料">参考资料</h1>
<p><a target="_blank" rel="noopener" href="https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html">GAMES101</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.gloriousdays.pw/2018/08/29/change-font-within-vsc-to-consolas-on-linux/">将
Linux 上的 VSCode 改为 Consolas 字体</a></p>
<p><a target="_blank" rel="noopener" href="https://eigen.tuxfamily.org/dox/">Eigen库的官方文档</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jingzhishen/p/4983805.html">ubuntu下中文乱码解决方案(全)</a></p>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/1408873/ubuntu-22-04-chinese-simplified-pinyin-input-support">Ubuntu
22.04 Chinese (simplified) pinyin input support</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/youyoui/p/10680329.html">Linux环境变量配置全攻略</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/public669/article/details/99044895">ubuntu安装opencv的正确方法</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qianbin3200896/article/details/107894029">在Ubuntu18.04中安装OpenCV4.5</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47552638/article/details/124081537">opencv2在opencv4文件夹内</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/s15810751918/article/details/107705387">linux下编译安装opencv生成opencv.pc</a></p>
<p><a target="_blank" rel="noopener" href="https://games-cn.org/forums/topic/关于透视投影矩阵的问题/">关于透视投影矩阵的问题</a></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a><a class="post-meta__tags" href="/tags/GAMES101/">GAMES101</a><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Ubuntu/">Ubuntu</a><a class="post-meta__tags" href="/tags/OpenCV/">OpenCV</a><a class="post-meta__tags" href="/tags/Eigen/">Eigen</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/24/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Raycasting%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95-%E8%BF%9B%E9%98%B6%E4%B8%8E%E6%89%A9%E5%B1%95/" title="Raycasting学习记录_进阶与扩展"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Raycasting学习记录_进阶与扩展</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/06/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/LeetCode%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95/" title="LeetCode训练记录"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">LeetCode训练记录</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/01/07/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="计算机图形学复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-07</div><div class="title">计算机图形学复习整理</div></div></a></div><div><a href="/2023/11/09/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Raycasting%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="Raycasting学习记录"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-09</div><div class="title">Raycasting学习记录</div></div></a></div><div><a href="/2024/05/24/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Raycasting%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95-%E8%BF%9B%E9%98%B6%E4%B8%8E%E6%89%A9%E5%B1%95/" title="Raycasting学习记录_进阶与扩展"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-24</div><div class="title">Raycasting学习记录_进阶与扩展</div></div></a></div><div><a href="/2024/05/06/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/LeetCode%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95/" title="LeetCode训练记录"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-06</div><div class="title">LeetCode训练记录</div></div></a></div><div><a href="/2022/09/27/%E6%9C%89%E8%B6%A3%E7%9A%84%E5%B0%8F%E9%A1%B9%E7%9B%AE/%E5%9F%BA%E4%BA%8EOpenCV%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%B9%BB%E5%BD%B1%E5%9D%A6%E5%85%8B/" title="基于OpenCV实现的灰度图幻影坦克"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-27</div><div class="title">基于OpenCV实现的灰度图幻影坦克</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/WinkySpeed%20SP%20-%20Repaired.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">WinkySpeed</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">60</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/WinkySpeed"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#games101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">GAMES101学习记录</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#assignment-0"><span class="toc-number">2.</span> <span class="toc-text">Assignment-0</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85vs-code"><span class="toc-number">2.1.</span> <span class="toc-text">下载安装VS Code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEvs-code"><span class="toc-number">2.2.</span> <span class="toc-text">配置VS Code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85eigen%E5%BA%93"><span class="toc-number">2.3.</span> <span class="toc-text">安装Eigen库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#eigen%E5%BA%93%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">Eigen库基本用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.1.</span> <span class="toc-text">头文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5"><span class="toc-number">2.4.2.</span> <span class="toc-text">矩阵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F"><span class="toc-number">2.4.3.</span> <span class="toc-text">向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.4.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E4%BB%A3%E7%A0%81"><span class="toc-number">2.5.</span> <span class="toc-text">作业代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#assignment-1"><span class="toc-number">3.</span> <span class="toc-text">Assignment-1</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#unzip%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">unzip中文乱码问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ubuntu-22.04%E4%B8%AD%E6%96%87%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">Ubuntu 22.04中文拼音输入法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ubuntu%E4%B8%8Aopencv%E5%AE%89%E8%A3%85"><span class="toc-number">3.3.</span> <span class="toc-text">Ubuntu上OpenCV安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">3.3.1.</span> <span class="toc-text">正确的安装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%91%E7%BB%8F%E5%8E%86%E7%9A%84%E6%8A%98%E7%A3%A8"><span class="toc-number">3.3.2.</span> <span class="toc-text">我经历的折磨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vs-code%E9%85%8D%E7%BD%AEcode-runner%E8%BF%90%E8%A1%8Copencv%E5%BA%93"><span class="toc-number">3.4.</span> <span class="toc-text">VS Code配置Code
Runner运行OpenCV库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vs-code%E6%89%BE%E4%B8%8D%E5%88%B0%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">VS Code找不到头文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">3.5.1.</span> <span class="toc-text">软链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEvs-code%E5%B7%A5%E4%BD%9C%E5%8C%BA"><span class="toc-number">3.5.2.</span> <span class="toc-text">设置VS Code工作区</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E4%BB%A3%E7%A0%81-1"><span class="toc-number">3.6.</span> <span class="toc-text">作业代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.6.1.</span> <span class="toc-text">基础实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E8%BF%90%E8%A1%8C"><span class="toc-number">3.6.2.</span> <span class="toc-text">编译运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%AE%9E%E7%8E%B0%E4%BB%BB%E6%84%8F%E8%BD%B4"><span class="toc-number">3.6.3.</span> <span class="toc-text">进阶实现——任意轴</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">4.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/22/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E8%99%9A%E6%8B%9F%E7%8E%B0%E5%AE%9E%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="虚拟现实复习整理">虚拟现实复习整理</a><time datetime="2024-06-22T11:57:00.000Z" title="发表于 2024-06-22 19:57:00">2024-06-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/18/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="计算机视觉复习整理">计算机视觉复习整理</a><time datetime="2024-06-18T11:15:00.000Z" title="发表于 2024-06-18 19:15:00">2024-06-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/09/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/VSCode-Pylance%E9%AB%98%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/" title="VSCode Pylance高版本问题">VSCode Pylance高版本问题</a><time datetime="2024-06-09T10:11:24.000Z" title="发表于 2024-06-09 18:11:24">2024-06-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/24/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/Raycasting%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95-%E8%BF%9B%E9%98%B6%E4%B8%8E%E6%89%A9%E5%B1%95/" title="Raycasting学习记录_进阶与扩展">Raycasting学习记录_进阶与扩展</a><time datetime="2024-05-24T07:00:00.000Z" title="发表于 2024-05-24 15:00:00">2024-05-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/14/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/GAMES101%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="GAMES101学习记录">GAMES101学习记录</a><time datetime="2024-05-14T07:22:42.000Z" title="发表于 2024-05-14 15:22:42">2024-05-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By WinkySpeed</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2d-widget/autoload.js"></script></body></html>