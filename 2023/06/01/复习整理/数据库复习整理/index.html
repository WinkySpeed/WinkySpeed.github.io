<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>数据库复习整理 | WinkySpeed's Blog</title><meta name="author" content="WinkySpeed"><meta name="copyright" content="WinkySpeed"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库复习整理 绪论 重点问题 数据和信息的联系与区别 数据是用以表示信息的符号或载体，信息是经过加工之后并对客观世界和生产活动产生影响的数据，是数据的内涵，是对数据语义的解释 数据是现象，而信息更反映实质 数据库概念中的“有组织”指的是什么？ 有组织（有结构）：为了高效地存取数据库中的数据，在存放数据的时候，必须按照某种方式，把数据组织起来 DBMS和DBS有什么区别？ DBM">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库复习整理">
<meta property="og:url" content="http://example.com/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/index.html">
<meta property="og:site_name" content="WinkySpeed&#39;s Blog">
<meta property="og:description" content="数据库复习整理 绪论 重点问题 数据和信息的联系与区别 数据是用以表示信息的符号或载体，信息是经过加工之后并对客观世界和生产活动产生影响的数据，是数据的内涵，是对数据语义的解释 数据是现象，而信息更反映实质 数据库概念中的“有组织”指的是什么？ 有组织（有结构）：为了高效地存取数据库中的数据，在存放数据的时候，必须按照某种方式，把数据组织起来 DBMS和DBS有什么区别？ DBM">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/WinkySpeed%20SP%20-%20Repaired.jpg">
<meta property="article:published_time" content="2023-06-01T07:27:31.000Z">
<meta property="article:modified_time" content="2023-06-08T15:58:35.444Z">
<meta property="article:author" content="WinkySpeed">
<meta property="article:tag" content="复习">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="Oracle">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/WinkySpeed%20SP%20-%20Repaired.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据库复习整理',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-08 23:58:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/WinkySpeed%20SP%20-%20Repaired.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/33703665_p0.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="WinkySpeed's Blog"><span class="site-name">WinkySpeed's Blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据库复习整理</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-01T07:27:31.000Z" title="发表于 2023-06-01 15:27:31">2023-06-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-08T15:58:35.444Z" title="更新于 2023-06-08 23:58:35">2023-06-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据库复习整理"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="数据库复习整理">数据库复习整理</h1>
<h1 id="绪论">绪论</h1>
<h2 id="重点问题">重点问题</h2>
<h3 id="数据和信息的联系与区别">数据和信息的联系与区别</h3>
<p>数据是用以表示信息的<strong>符号或载体</strong>，信息是经过加工之后并对客观世界和生产活动产生影响的数据，是数据的<strong>内涵</strong>，是对数据语义的解释</p>
<p><strong>数据是现象，而信息更反映实质</strong></p>
<h3 id="数据库概念中的有组织指的是什么">数据库概念中的“有组织”指的是什么？</h3>
<p>有组织（有结构）：为了高效地存取数据库中的数据，在存放数据的时候，必须按照某种方式，把数据组织起来</p>
<h3 id="dbms和dbs有什么区别">DBMS和DBS有什么区别？</h3>
<p>DBMS是数据库管理软件，DBS是整个数据库系统，其中包括了硬件、软件和人员，也包括了DBMS</p>
<h3 id="为什么要建立数据模型数据模型有什么作用">为什么要建立数据模型，数据模型有什么作用？</h3>
<p>计算机不可能直接处理现实世界中的具体事物，所以人们必须事先把具体事物转换成计算机能够处理的数据，在数据库中用数据模型这个工具来抽象、表示和处理现实世界中的数据和信息</p>
<p>作用：对现实世界数据特征的抽象，使计算机能够处理</p>
<h3 id="数据模型分为哪几种分别有什么作用">数据模型分为哪几种？分别有什么作用？</h3>
<p>数据模型分为：概念模型，逻辑模型和物理模型</p>
<p>概念模型：对现实事物高度抽象，比如把水杯抽象成圆柱，</p>
<p>逻辑模型：数据模型信息化以后的表达形式，从软件管理角度组织数据</p>
<p>物理模型：是从数据存储角度组织数据，数据库咋存的，存什么里面</p>
<h3 id="你如何理解数据库系统阶段数据结构化和数据独立性高的特点">你如何理解数据库系统阶段“数据结构化”和“数据独立性高”的特点？</h3>
<p>数据结构化：不光数据内部有结构，数据与数据之间也是有结构的，整体有结构</p>
<p>数据独立性高：数据与使用数据的应用程序之间有一定的独立性，当数据的结构发生改变，应用程序不必修改依然可以访问数据</p>
<h3 id="说说你对概念模型的理解">说说你对概念模型的理解</h3>
<p>对现实事物的高度抽象，高于客观事实，只是概念性的抽象，把水杯抽象成圆柱</p>
<h3 id="逻辑模型的三要素是什么">逻辑模型的三要素是什么？</h3>
<p>数据结构、数据操作和数据的完整性约束条件</p>
<h3 id="关系模型有哪些优点">关系模型有哪些优点？</h3>
<p>建立在严格的数学概念的基础上：集合代数</p>
<p>关系模型的概念单一：关系</p>
<p>关系模型的存取路径对用户隐藏：更好的安全保密性</p>
<h3 id="如何理解数据库系统中的型和值模式和模式的实例分别指什么">如何理解数据库系统中的“型”和“值”？模式和模式的实例分别指什么？</h3>
<p>型(Type)：对某一类数据的结构和属性的说明（表的定义）</p>
<p>值(Value)：是型的一个具体赋值（表项）</p>
<p>模式：型的描述</p>
<p>模式的实例：模式的一个具体值</p>
<h3 id="什么是数据库的独立性独立性分为哪两种分别如何保证">什么是数据库的独立性？独立性分为哪两种，分别如何保证？</h3>
<p>数据与使用数据的应用程序之间有一定的独立性，当数据的结构发生改变，应用程序不必修改依然可以访问数据</p>
<p>独立性分为逻辑独立性和物理独立性</p>
<p>外模式/模式映像保证了数据的逻辑独立性</p>
<p>模式/内模式映像保证了数据的物理独立性</p>
<h2 id="数据库系统概述">数据库系统概述</h2>
<h3 id="数据库四个基本概念">数据库四个基本概念</h3>
<p>四个基本概念：信息和数据（D）、数据库（DB）、数据库管理系统（DBMS）、数据库系统（DBS）</p>
<h4 id="信息和数据d">信息和数据(D)</h4>
<p><strong>信息是经过加工的数据</strong>，或者说，信息是数据处理的结果</p>
<p>信息(Information)：是数据经过加工处理后得到的<strong>另一种形式的数据</strong>，具有客观真实性、传递性、时效性和有用性</p>
<p>数据(Data)：描述事物的<strong>符号</strong>记录称为数据，描述事物的符号可以是数字，也可以是文字、图形、图像、音频、视频等，数据有多种表现形式，他们都可以经过数字化后存入计算机</p>
<p><br></p>
<p>信息和数据区别与联系：</p>
<p>数据是用以表示信息的<strong>符号或载体</strong></p>
<p>信息是经过加工之后并对客观世界和生产活动产生影响的数据，是数据的<strong>内涵</strong>，是对数据语义的解释</p>
<p><strong>数据是现象，而信息更反映实质</strong></p>
<p><br></p>
<p>对数据进一步解释：</p>
<p>不能把数据简单地与数字等同起来</p>
<p>数据的解释是指对数据含义的说明，数据的含义称为<strong>数据的语义</strong>，数据和数据的解释是不可分的</p>
<p>数据在计算机中用二进制串表示</p>
<h4 id="数据库db">数据库(DB)</h4>
<p>数据库(DataBase，DB)：长期储存在<strong>计算机内、有组织的、可共享的大量的数据集合</strong></p>
<p>有组织（有结构）：为了高效地存取数据库中的数据，在存放数据的时候，必须按照某种方式，把数据组织起来</p>
<p>常用的组织数据方式：层次模型、网状模型、关系模型</p>
<h4 id="数据库管理系统dbms">数据库管理系统(DBMS)</h4>
<p>数据库管理系统(DataBase Management
System，DBMS)：是位于用户与操作系统之间的一层<strong>数据管理软件</strong>，和操作系统一样是计算机的基础软件，也是一个<strong>大型复杂的软件系统</strong></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230603113729701.png" class title="image-20230603113729701">
<p>DDL：数据定义功能</p>
<p>DML：数据操纵功能（增删改查）</p>
<p>DCL：完整性，安全性，可恢复性，并发控制性</p>
<p>不同数据库软件差异就在DCL</p>
<h4 id="数据库系统dbs">数据库系统(DBS)</h4>
<p>数据库系统(DataBase
System，DBS)：由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（DataBase
Administrator，DBA）组成的<strong>存储、管理、处理和维护数据</strong>的<strong>系统</strong></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230603113808197.png" class title="image-20230603113808197">
<p>包括了硬件、软件、人员，是个庞大的系统</p>
<h3 id="数据库系统的特点">数据库系统的特点</h3>
<p>（1）数据结构化</p>
<p>不光数据内部有结构，数据与数据之间也是有结构的，整体有结构</p>
<p>（2）数据的共享性高、冗余度低且易扩充</p>
<p>数据可以被多个用户、应用共享使用，大大减少冗余，避免数据的不一致性</p>
<p>（3）数据独立性高</p>
<p>数据与使用数据的应用程序之间有一定的独立性，当数据的结构发生改变，应用程序不必修改依然可以访问数据</p>
<p>（4）数据由数据库管理系统统一管理和控制</p>
<h2 id="数据模型">数据模型</h2>
<h3 id="作用">作用</h3>
<p>将现实世界抽象到机器世界：建立模型，抽取关键特征</p>
<p>数据模型（data
model）也是一种模型，他是<strong>对现实世界数据特征</strong>的抽象</p>
<p>由于计算机不可能直接处理现实世界中的具体事物，所以人们必须事先把具体事物转换成计算机能够处理的数据</p>
<p>在数据库中用<strong>数据模型</strong>这个工具来抽象、表示和处理现实世界中的数据和信息</p>
<p>现有的数据库系统均是基于某种数据模型的。<strong>数据模型是数据库系统的核心和基础</strong></p>
<h3 id="两类数据模型">两类数据模型</h3>
<p>两类数据模型：概念模型，机器世界的数据模型（逻辑模型和物理模型）</p>
<h4 id="概念模型">概念模型</h4>
<p>概念模型是从现实世界到机器世界的一个<strong>中间层次</strong></p>
<p>按用户的观点对数据和信息进行建模，完全不涉及信息在计算机中的表示，主要用于数据库设计</p>
<p>强调了<strong>数据的含义，数据的解释</strong></p>
<p><br></p>
<p>建立概念模型的目的：</p>
<p>按用户的观点对数据和信息建模</p>
<p>这类模型强调其<strong>语义表达能力</strong>，它要能较方便地、直观地表达应用中各种语义知识，如被描述对象的意义和相互关系等</p>
<p>是用户和数据库设计人员之间进行交流与沟通的工具</p>
<p><br></p>
<p>表示方法：实体联系方法</p>
<h4 id="逻辑模型和物理模型">逻辑模型和物理模型</h4>
<p>按计算机系统的观点组织数据，主要描述数据的结构特点和结构约束，并非数据本身的内涵</p>
<p>即关心怎样在机器中存取数据</p>
<h5 id="逻辑模型">逻辑模型</h5>
<p>逻辑模型是按计算机系统的观点对数据建模，主要用于DBMS的实现。主要包括层次模型、网状模型、关系模型、面向对象数据模型、对象关系数据模型、半结构化数据模型等</p>
<p>逻辑模型由概念模型转化而来</p>
<h5 id="物理模型">物理模型</h5>
<p>物理模型是数据在计算机中的存储方式，是对数据最低层的抽象，它描述数据在系统内部的表示方式和存取方法，在磁盘或磁带上的存储方式和存取方法，是面向计算机系统的</p>
<h3 id="信息世界的基本概念">信息世界的基本概念</h3>
<p>实体(Entity):客观存在并可相互区分的事物</p>
<p>实体集(EntitySet):同类型实体的集合。每个实体集必须命名</p>
<p>属性(Attribute):实体所具有的特征和性质</p>
<p>属性值(AttributeValue):为实体的属性取值</p>
<p>域(Domain):属性值的取值范围</p>
<p>码(Key):唯一标识实体集中一个实体的属性或属性集</p>
<p>实体型：表示实体信息结构，由实体名及其属性名集合表示。如：学生(学号，姓名，性别，年龄)</p>
<p>联系：在现实世界中，事物内部以及事物之间是有联系的，这些联系在信息世界中反映为实体型内部的联系和实体型之间的联系</p>
<h4 id="两个实体集之间的关系">两个实体集之间的关系</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604200324992.png" class title="image-20230604200324992">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604200341949.png" class title="image-20230604200341949">
<h3 id="概念模型的表示方法">概念模型的表示方法</h3>
<p>实体-联系方法</p>
<p>实体型——用矩形框表示，实体集名子写在框中</p>
<p>联系——用菱形框表示，联系名写在框中，用无向边与相关实体集连接，并注明联系类型</p>
<p>属性——用椭圆表示，属性名写在椭圆中，如果为码属性，其名字带下划线。用无向边将实体集和它的全部属性连接起来</p>
<p>若联系也有属性，把属性和菱形用无向边连起来</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604200940959.png" class title="image-20230604200940959">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604200826828.png" class title="image-20230604200826828">
<h3 id="逻辑模型-1">逻辑模型</h3>
<h4 id="逻辑模型组成要素">逻辑模型组成要素</h4>
<p>逻辑模型由<strong>数据结构、数据操作和数据的完整性约束条件</strong>三部分组成</p>
<p>数据结构：描述数据库的组成对象以及对象之间的联系</p>
<p>数据操作：对数据库中各种对象的实例允许执行的操作的集合，包括操作及有关的操作规则</p>
<p>数据的完整性约束条件：一组完整性规则，给定的数据模型中数据及其联系所具有的制约和依存规则</p>
<h4 id="常用的逻辑模型">常用的逻辑模型</h4>
<h5 id="层次模型树">层次模型(树)</h5>
<p>优点：结构简单</p>
<p>缺点：结点之间的多对多联系表示不自然；对插入和删除操作的限制多，应用程序的编写比较复杂；查询子女结点必须通过双亲结点</p>
<h5 id="网状模型图">网状模型(图)</h5>
<p>优点：直接，效率高</p>
<p>缺点：结构复杂，不易使用</p>
<h5 id="关系模型表">关系模型(表)</h5>
<p>规范化二维表</p>
<p><br></p>
<p>面向对象数据模型</p>
<p>对象关系数据模型</p>
<p>半结构化数据模型</p>
<h4 id="关系模型">关系模型</h4>
<p>关系必须是规范化的，满足一定的规范条件</p>
<p>最基本的规范条件：关系的每一个分量必须是一个<strong>不可分</strong>的数据项</p>
<p>三大类完整性约束：实体完整性、参照完整性和用户定义的完整性</p>
<p>数据操作是集合操作，操作对象和操作结果都是关系，即若干元组的集合</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604204951334.png" class title="image-20230604204951334">
<p>优点：建立在严格的数学概念的基础上：集合代数；关系模型的概念单一：关系；关系模型的存取路径对用户隐藏：更好的安全保密性</p>
<p>缺点：存取路径对用户隐藏，查询效率往往不如格式化数据模型</p>
<h2 id="数据库系统结构">数据库系统结构</h2>
<h3 id="从系统观点">从系统观点</h3>
<p>三级模式结构</p>
<h3 id="从用户观点">从用户观点</h3>
<p>C/S（独立运算能力），B/S，C+B/S</p>
<h3 id="型和值的概念">型和值的概念</h3>
<p>型(Type)：对某一类数据的结构和属性的说明</p>
<p>值(Value)：是型的一个具体赋值</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604202059459.png" class title="image-20230604202059459">
<h3 id="模式和模式的实例">模式和模式的实例</h3>
<h4 id="模式">模式</h4>
<p>数据库逻辑结构和特征的描述</p>
<p><strong>是型的描述</strong></p>
<p>反映的是数据的结构及其联系</p>
<p>模式是相对稳定的</p>
<h4 id="模式的实例">模式的实例</h4>
<p>模式的一个具体值</p>
<p>反映数据库某一时刻的状态</p>
<p>同一个模式可以有很多实例</p>
<p>实例随数据库中的数据的更新而变动</p>
<h3 id="数据库三级模式结构">数据库三级模式结构</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604202522805.png" class title="image-20230604202522805">
<h4 id="模式逻辑模式">模式（逻辑模式）</h4>
<p>也称逻辑模式，数据库中全体数据的逻辑结构和特征的描述，所有用户的公共数据视图</p>
<p>一个数据库只有一个模式</p>
<p><br></p>
<h5 id="模式的地位">模式的地位</h5>
<p>是数据库系统模式结构的<strong>中间层</strong>，与数据的物理存储细节和硬件环境无关，与具体的应用程序、开发工具及高级程序设计语言无关</p>
<p>数据怎么存储，怎么使用，模式都不描述</p>
<h5 id="模式的定义">模式的定义</h5>
<p>定义数据的逻辑结构(数据项的名字、类型、取值范围等)</p>
<p>定义数据之间的联系</p>
<p>定义数据有关的安全性、完整性要求</p>
<h4 id="外模式子模式用户模式">外模式（子模式，用户模式）</h4>
<p>也称子模式，用户模式，数据库用户(包括应用程序员和最终用户)能够看见和使用的<strong>局部数据</strong>的逻辑结构和特征的描述，数据库用户的数据视图，是与某一应用有关的数据的逻辑表示</p>
<p>主要针对用户的使用</p>
<h5 id="外模式的地位">外模式的地位</h5>
<p>介于模式与应用之间</p>
<h5 id="模式与外模式的关系">模式与外模式的关系</h5>
<p>模式与外模式的关系：一对多</p>
<p>外模式通常是模式的子集</p>
<p>一个数据库可以有多个外模式</p>
<h4 id="内模式存储模式">内模式（存储模式）</h4>
<p>也称存储模式，是数据<strong>物理结构和存储方式</strong>的描述，是数据在数据库内部的表示方式</p>
<p>一个数据库只有一个内模式</p>
<h4 id="关系数据库对三级模式结构的支持">关系数据库对三级模式结构的支持</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604203339893.png" class title="image-20230604203339893">
<p>模式：基本表</p>
<p>外模式：视图</p>
<p>内模式：存储文件</p>
<h3 id="数据库系统的两层映像">数据库系统的两层映像</h3>
<h4 id="外模式模式映像">外模式/模式映像</h4>
<p>定义外模式与模式之间的对应关系</p>
<p>每一个外模式都对应一个外模式／模式映象</p>
<p>映象定义通常包含在各自外模式的描述中</p>
<p><br></p>
<p>逻辑变了：改了数据表的定义</p>
<h5 id="保证数据的逻辑独立性">保证数据的逻辑独立性</h5>
<p>当模式改变时，数据库管理员修改有关的外模式／模式映象，使外模式保持不变</p>
<p>应用程序是依据数据的外模式编写的，从而应用程序不必修改，保证了数据与程序的逻辑独立性，简称数据的逻辑独立性</p>
<h4 id="模式内模式映像">模式/内模式映像</h4>
<p>模式／内模式映象定义了数据全局逻辑结构与存储结构之间的对应关系</p>
<p>数据库中模式／内模式映象是唯一的</p>
<p>该映象定义通常包含在模式描述中</p>
<p><br></p>
<p>物理结构变了：换了个盘存</p>
<h5 id="保证数据的物理独立性">保证数据的物理独立性</h5>
<p>当数据库的存储结构改变了(例如选用了另一种存储结构)，数据库管理员修改模式／内模式映象，使模式保持不变</p>
<p>应用程序不受影响，保证了数据与程序的物理独立性，简称数据的物理独立性</p>
<h4 id="总结">总结</h4>
<p>外模式/模式映像保证了数据的逻辑独立性</p>
<p>模式/内模式映像保证了数据的物理独立性</p>
<h2 id="数据库系统组成">数据库系统组成</h2>
<p>硬件</p>
<p>软件</p>
<p>人员</p>
<h1 id="关系数据库">关系数据库</h1>
<p>基于集合的观点</p>
<p>从域开始，笛卡尔积，子集就是关系，关系模式，五元组</p>
<h2 id="本章重点">本章重点</h2>
<h3 id="区分与理解四个概念超码候选码主码外码">区分与理解四个概念：超码、候选码、主码、外码</h3>
<p>超码：若关系中的某一个或多个属性的集合能唯一地标识一个元组，则称该<strong>属性或属性组</strong>为超码（主码或包含主码的属性组）</p>
<p>候选码：如果构成超码属性组的任意真子集都不能成为超码，这样的最小超码称为候选码（单独一个主码）</p>
<p>主码：若一个关系有多个候选码，则选定其中一个为主码。候选码的诸属性称为主属性</p>
<p>外码：设F是基本关系R的一个或一组属性，但不是关系R的主码。如果F与基本关系S的主码Ks相对应，则称F是基本关系R的外码</p>
<h3 id="理解数据库为什么要有完整性">理解数据库为什么要有完整性</h3>
<p>通过对关系（二维表）中取值的约束，可以保证数据库的完整性，保证数据的正确性</p>
<h3 id="实体完整性规则参照完整性规则规则的具体内容及为什么要这样制定规则">实体完整性规则、参照完整性规则，规则的具体内容及为什么要这样制定规则</h3>
<p>实体完整性：主码不能为空</p>
<p>参照完整性：外码要么为空，要么为被参照关系中某元素的主码值</p>
<p>通过对关系（二维表）中取值的约束，可以保证数据库的完整性，保证数据的正确性</p>
<h3 id="关系代数运算的灵活运用">关系代数运算的灵活运用</h3>
<h2 id="关系数据结构及形式化定义">关系数据结构及形式化定义</h2>
<h3 id="关系">关系</h3>
<p>关系：笛卡尔积的有限子集</p>
<p>域：是一组具有相同数据类型的值的集合</p>
<p>笛卡尔积：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604210824325.png" class title="image-20230604210824325">
<p>超码：若关系中的某一个或多个属性的集合能唯一地标识一个元组，则称该<strong>属性或属性组</strong>为超码（主码或包含主码的属性组）</p>
<p>候选码：如果构成超码属性组的任意真子集都不能成为超码，这样的最小超码称为候选码（单独一个主码）</p>
<p>主码：若一个关系有多个候选码，则选定其中一个为主码。候选码的诸属性称为主属性</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606105304732.png" class title="image-20230606105304732">
<h3 id="基本关系的性质">基本关系的性质</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604211644859.png" class title="image-20230604211644859">
<h2 id="关系模式">关系模式</h2>
<p>关系模式是对关系的描述</p>
<p>五元组</p>
<p>R ( U, D, dom, F )</p>
<p>F从需求分析来，要是不合适就用规范化理论消除</p>
<p>R为关系名，U为组成该关系的属性名集合，D为属性组U中属性所来自的域，dom为属性向域的映象集合，F为属性间数据的依赖关系集合</p>
<p>简记为R(U)</p>
<p>选定一个DMBS后，可以把五元组简化为三元组：R(U,F)</p>
<p>因为D，dom是系统提供</p>
<h3 id="关系模式与关系">关系模式与关系</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604213822444.png" class title="image-20230604213822444">
<p>关系模式是型，关系是值</p>
<p>关系是关系模式在某一时刻的状态或内容</p>
<p>关系模式是静态的、稳定的，关系是动态的、随时间变化的</p>
<h2 id="关系完整性">关系完整性</h2>
<p>实体完整性：主码不能为空</p>
<p>参照完整性：外码要么为空，要么为被参照关系中某元素的主码值</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604214641149.png" class title="image-20230604214641149">
<p>用户定义完整性</p>
<p>通过对关系（二维表）中取值的约束，可以保证数据库的完整性，保证数据的正确性</p>
<h2 id="关系代数">关系代数</h2>
<h3 id="关系代数运算三要素">关系代数运算三要素</h3>
<p>运算对象：关系</p>
<p>运算结果：关系</p>
<p>运算符</p>
<h3 id="关系运算符">关系运算符</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604214839826.png" class title="image-20230604214839826">
<h4 id="专门的关系运算">专门的关系运算</h4>
<p>选择</p>
<p>投影</p>
<p>连接</p>
<h5 id="选择">选择</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604215052402.png" class title="image-20230604215052402">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604215057017.png" class title="image-20230604215057017">
<h5 id="投影">投影</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604215412700.png" class title="image-20230604215412700">
<p>先做选择再做投影</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604215517168.png" class title="image-20230604215517168">
<h5 id="连接">连接</h5>
<h6 id="theta连接"><span class="math inline">\(\theta\)</span>连接</h6>
<p>给定条件</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220054651.png" class title="image-20230604220054651">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220125446.png" class title="image-20230604220125446">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220133274.png" class title="image-20230604220133274">
<h6 id="等值连接">等值连接</h6>
<p>条件为相等</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220142390.png" class title="image-20230604220142390">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220150655.png" class title="image-20230604220150655">
<h6 id="自然连接">自然连接</h6>
<p>特殊的等值连接，要求两个关系比较的分量是同名，最后删去重复属性列</p>
<p>条件：有相同的属性</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220328178.png" class title="image-20230604220328178">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220337415.png" class title="image-20230604220337415">
<h6 id="外连接">外连接</h6>
<p>被舍弃的</p>
<h5 id="例">例</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604220517562.png" class title="image-20230604220517562">
<h1 id="sql概述">SQL概述</h1>
<h2 id="为什么要定义标准">为什么要定义标准</h2>
<p>随着信息技术不断发展，数据库管理产品越来越多，为了使数据操作有一个共同的约定，ISO就定了一个规范</p>
<p>好处：便于系统开发个性化，便于数据整合，便于系统整合</p>
<h2 id="标准的内涵是什么">标准的内涵是什么</h2>
<p>规范只是指导性的方案，并不是产品的操作语句</p>
<h2 id="规范分层次级别">规范分层次级别</h2>
<p>层次标准是一种约定，越低越细，越有可执行性；越粗规定什么样的结果</p>
<h1 id="数据库安全性">数据库安全性</h1>
<h2 id="安全性定义">安全性定义</h2>
<p>数据库的安全性是指保护数据库以防止<strong>不合法</strong>的使用所造成的数据泄漏、更改或破坏</p>
<p>是数据库系统DBMS安全，不是数据库加密解密</p>
<p>是数据操作的安全</p>
<h2 id="安全性威胁">安全性威胁</h2>
<p>非授权用户对数据库的恶意存取和破坏</p>
<p>数据库中重要或敏感的数据被泄露</p>
<p>安全环境的脆弱性</p>
<h2 id="计算机系统安全模型">计算机系统安全模型</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230604225747715.png" class title="image-20230604225747715">
<h2 id="数据库安全控制策略">数据库安全控制策略</h2>
<p>自主控制策略：自己定义操作权限和操作范围（授权和回收权限）</p>
<p>强制控制策略：客体主体</p>
<h2 id="oracle安全性控制">Oracle安全性控制</h2>
<h3 id="用户管理">用户管理</h3>
<p>用户：连接数据库</p>
<p>只有通过用户验证，用户才能访问数据库</p>
<h3 id="模式-1">模式</h3>
<p>也称作方案，是用户拥有的数据库对象的集合</p>
<p>模式是数据库对象的集合，是用来创建和管理对象的</p>
<p>同名模式，sys模式，public模式</p>
<h3 id="权限管理">权限管理</h3>
<p>权限是指在数据库中执行某种操作的权利</p>
<p>Oracle有两种类型的权限：系统权限和对象权限</p>
<p>系统权限：系统预先定义好的</p>
<h3 id="角色管理">角色管理</h3>
<p>加入角色：为了更有效管理权限（串讲强调）</p>
<p>角色将用户权限归为一组，对权限进行组管理</p>
<p>角色是一组权限的集合</p>
<h1 id="数据库完整性">数据库完整性</h1>
<h2 id="完整性定义">完整性定义</h2>
<p>数据库的完整性指数据的<strong>正确性</strong>和<strong>相容性</strong></p>
<p>完整性：确保数据库中的数据正确、一致、有效、相容的一种基础</p>
<h2 id="完整性类型">完整性类型</h2>
<p>类型：实体完整性，参照完整性，用户自定义完整性</p>
<h2 id="完整性实现的途径">完整性实现的途径</h2>
<p>通过模式定义实现（定义完整性）</p>
<p>通过编程实现，最重要的是触发器（级联更新）</p>
<h2 id="完整性和安全性">完整性和安全性</h2>
<p>完整性和安全性是两个不一样的概念</p>
<p>完整性为了防止数据库中存在不符合语义的数据，也就是防止数据库中存在不正确的数据。它检查和控制的防范对象是<strong>不合语义的、不正确的数据</strong>，防止它们进入数据库</p>
<p>安全性保护数据库防止恶意的破坏和非法的存取。它防范对象是<strong>非法用户和非法操作</strong>，防止他们对数据库数据的非法存取</p>
<p><br></p>
<p>完整性命名约束：好维护</p>
<h1 id="数据库恢复技术">数据库恢复技术</h1>
<p>恢复技术是衡量系统优劣的重要指标</p>
<h2 id="事务">事务</h2>
<p>事务(Transaction)是用户定义的一个数据库操作序列，这些操作要么全做，要么全不做，是一个<strong>不可分割的工作单位</strong></p>
<h3 id="事务四个特性acid">事务四个特性(ACID)</h3>
<p>原子性（Atomicity）：体现在概念上，事务是数据库的逻辑工作单位，事务中包括的诸操作要么都做，要么都不做</p>
<p>一致性（Consistency）：是数据库操作中必须遵循的原则，事务执行的结果必须是使数据库从一个一致状态变到另一个一致状态</p>
<p>隔离性（Isolation）：对并发执行而言，一个事务的执行不能被其他事务干扰，一个事务内部的操作及使用的数据对其他并发事务是隔离的</p>
<p>持续性（Durability）：永久性，一个事务一旦提交，它对数据库中数据的改变就应该是永久性的</p>
<p><br></p>
<p>可恢复性破坏了事务的一致性</p>
<p>并发控制破坏了隔离性</p>
<h2 id="故障的种类">故障的种类</h2>
<h3 id="事务内部的故障">事务内部的故障</h3>
<p>某个事务在运行过程中由于种种原因未运行至正常终止点就夭折了</p>
<h3 id="系统故障">系统故障</h3>
<p>造成系统停止运转的任何事件，使得系统要重新启动</p>
<h3 id="介质故障">介质故障</h3>
<p>介质故障又称为硬故障，这类故障使存储在外存中的数据部分丢失或全部丢失</p>
<h3 id="计算机病毒">计算机病毒</h3>
<h2 id="各种故障对数据库的影响">各种故障对数据库的影响</h2>
<p>一是数据库本身被破坏</p>
<p>二是数据库没有被破坏，但数据可能不正确</p>
<h2 id="恢复的实现技术">恢复的实现技术</h2>
<p>数据转储，登记日志文件</p>
<p>恢复操作的基本原理：冗余</p>
<p>利用存储在系统其它地方的冗余数据来重建数据库中已被破坏或不正确的那部分数据</p>
<h3 id="数据转储">数据转储</h3>
<p>转储是指DBA通过DBMS的恢复子系统，将整个数据库复制到磁带或另一个磁盘上保存起来的过程，这些备用的数据称为<strong>后备副本或后援副本</strong></p>
<h4 id="转储方法">转储方法</h4>
<h5 id="静态转储与动态转储转储状态">静态转储与动态转储（转储状态）</h5>
<p>静态转储：在系统中无运行事务时进行转储，转储开始时数据库处于一致性状态，转储期间不允许对数据库的任何存取、修改活动</p>
<p>动态转储：转储操作与用户事务并发进行转储期间允许对数据库进行存取或修改</p>
<h5 id="海量转储与增量转储转储方式">海量转储与增量转储（转储方式）</h5>
<p>海量转储: 每次转储全部数据</p>
<p>增量转储: 只转储上次转储后更新过的数据</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606100344134.png" class title="image-20230606100344134">
<h3 id="登记日志文件">登记日志文件</h3>
<p>日志文件(log)是用来记录事务对数据库的更新操作的文件</p>
<h4 id="日志文件要登记的内容">日志文件要登记的内容</h4>
<p>各个事务的开始标记(begin
transaction)，各个事务的结束标记(commit或rollback)，各个事务的所有更新操作</p>
<p>这里每个事务开始的标记、每个事务的结束标记和每个更新操作均作为日志文件中的一个<strong>日志记录</strong></p>
<h4 id="日志文件用途">日志文件用途</h4>
<p><strong>事务故障</strong>恢复和<strong>系统故障</strong>恢复必须用日志文件</p>
<p>在<strong>动态转储方式</strong>中必须建立日志文件，后援副本和日志文件综合起来才能有效地恢复数据库</p>
<p>在静态转储方式中，也可以建立日志文件</p>
<h2 id="恢复策略">恢复策略</h2>
<h3 id="事务故障恢复">事务故障恢复</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606100802997.png" class title="image-20230606100802997">
<p>事务故障的恢复由<strong>系统自动</strong>完成，不需要用户干预</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606100904125.png" class title="image-20230606100904125">
<h3 id="系统故障恢复">系统故障恢复</h3>
<p>系统故障的恢复由系统在重新启动时自动完成，不需要用户干预</p>
<p>Undo，Redo</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606100922959.png" class title="image-20230606100922959">
<h3 id="介质故障恢复">介质故障恢复</h3>
<p>介质故障的恢复<strong>需要DBA介入</strong></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606101220254.png" class title="image-20230606101220254">
<h1 id="并发控制">并发控制</h1>
<p>并发控制的主要技术：<strong>封锁技术</strong></p>
<p>用于多用户数据库系统</p>
<p>特点：在同一时刻并发执行的事务数可达数百个</p>
<p>问题：会产生多个事务同时存取同一数据的情况，可能会存取和存储不正确的数据</p>
<h2 id="数据不一致性现象">数据不一致性现象</h2>
<p>丢失修改</p>
<p>不可重复读</p>
<p>读“脏”数据</p>
<p>引入R(x)：读数据x，W(x)：写数据x</p>
<h3 id="丢失修改">丢失修改</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606101920670.png" class title="image-20230606101920670">
<p>破坏了事务的隔离性，一致性</p>
<h3 id="不可重复读无法再现">不可重复读（无法再现）</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606102019512.png" class title="image-20230606102019512">
<p>破坏了事务的隔离性，一致性</p>
<h3 id="读脏数据读到回滚不存在的数据">读“脏”数据（读到回滚，不存在的数据）</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606102155454.png" class title="image-20230606102155454">
<p>破坏了事务的隔离性，一致性</p>
<h3 id="结论">结论</h3>
<p>结论：不正确的方式调度并发操作会破坏事务的隔离性和一致性，最终导致数据库中数据不正确。</p>
<h2 id="并发控制机制的任务">并发控制机制的任务</h2>
<p>对并发操作进行正确调度</p>
<p>保证事务的隔离性</p>
<p>保证数据库的一致性</p>
<h2 id="封锁技术">封锁技术</h2>
<h3 id="封锁概念">封锁概念</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606102424799.png" class title="image-20230606102424799">
<h3 id="基本封锁类型">基本封锁类型</h3>
<p>排它锁（Exclusive Locks，简记为X锁）</p>
<p>共享锁（Share Locks，简记为S锁）</p>
<h4 id="排它锁x锁">排它锁（X锁）</h4>
<p>若事务T对数据对象A加上排它锁，则<strong>只允许T读取和修改A</strong>。其它任何事务都<strong>不能再对A加任何类型的锁</strong>，直到T释放A上的锁</p>
<h4 id="共享锁s锁">共享锁（S锁）</h4>
<p>若事务T对数据对象A加上共享锁，则事务<strong>T可以读A但不能修改A</strong>。其它事务<strong>只能再对A加共享锁，而不能加排它锁</strong>，直到T释放A上的共享锁</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606102738856.png" class title="image-20230606102738856">
<h3 id="封锁协议">封锁协议</h3>
<p>运用封锁方法时，对数据对象加锁时需要约定一些规则：</p>
<p>何时申请X锁或S锁</p>
<p>持锁时间</p>
<p>何时释放封锁等</p>
<p><br></p>
<h4 id="一级封锁协议">一级封锁协议</h4>
<p>一级封锁协议：事务T在<strong>修改</strong>数据R之前必须先对其加<strong>X锁</strong>，直到事务结束才释放</p>
<h4 id="二级封锁协议">二级封锁协议</h4>
<p>二级封锁协议：在<strong>一级封锁协议的基础上</strong>增加事务T在<strong>读取数据R之前</strong>必须先对其<strong>加S锁</strong>，<strong>读完后</strong>即可释放S锁</p>
<h4 id="三级封锁协议">三级封锁协议</h4>
<p>三级封锁协议：在<strong>一级封锁协议的基础上</strong>增加事务T在<strong>读取数据R之前</strong>必须先对其<strong>加S锁</strong>，<strong>直到事务结束</strong>才释放</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606103025480.png" class title="image-20230606103025480">
<p>封锁协议级别越高，一致性程度越高</p>
<h4 id="丢失修改-1">丢失修改</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606103245162.png" class title="image-20230606103245162">
<h4 id="不可重复读">不可重复读</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606103302396.png" class title="image-20230606103302396">
<h4 id="读脏数据">读脏数据</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606103314252.png" class title="image-20230606103314252">
<h2 id="活锁死锁">活锁死锁</h2>
<h3 id="避免活锁">避免活锁</h3>
<p>避免活锁：采用先来先服务的策略</p>
<h3 id="解决死锁">解决死锁</h3>
<p>预防死锁</p>
<p>死锁的诊断与解除</p>
<h4 id="死锁的预防">死锁的预防</h4>
<p>预防死锁的发生就是要破坏产生死锁的条件</p>
<h5 id="预防死锁的方法">预防死锁的方法</h5>
<p>一次封锁法</p>
<p>顺序封锁法</p>
<h6 id="一次封锁法">一次封锁法</h6>
<p>一次封锁法：要求每个事务在执行之前必须一次将所有要使用的数据全部加锁，否则就不能继续执行</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606103917269.png" class title="image-20230606103917269">
<p>存在问题：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104007552.png" class title="image-20230606104007552">
<h6 id="顺序封锁法">顺序封锁法</h6>
<p>顺序封锁法是预先对数据对象规定一个封锁顺序，所有事务都按这个顺序实行封锁</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104047696.png" class title="image-20230606104047696">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104103532.png" class title="image-20230606104103532">
<p>存在问题：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104110804.png" class title="image-20230606104110804">
<h5 id="结论-1">结论</h5>
<p>在操作系统中广为采用的预防死锁的策略并不很适合数据库的特点</p>
<p>DBMS在解决死锁的问题上<strong>更普遍采用的是诊断并解除死锁的方法</strong></p>
<h4 id="死锁诊断与解除">死锁诊断与解除</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104304459.png" class title="image-20230606104304459">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104312634.png" class title="image-20230606104312634">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104316739.png" class title="image-20230606104316739">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606104324112.png" class title="image-20230606104324112">
<p>有回路就死锁</p>
<h1 id="关系数据理论">关系数据理论</h1>
<p>关系，关系模式：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606105419193.png" class title="image-20230606105419193">
<h2 id="关系模式分析">关系模式分析</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606110137824.png" class title="image-20230606110137824">
<p>数据冗余：系和系主任的信息出现多次</p>
<p>更新异常：更新系主任的姓名时，该系学生选课记录必须全部更新，否则数据会不一致，开销很大</p>
<p>插入异常：一个系刚成立，还没有学生，Sno就没有，系和系主任的信息就无法插入</p>
<p>删除异常：删除学生选课信息时，也会把系和系主任信息删除</p>
<p>没有“一表一事”原则</p>
<h2 id="规范化">规范化</h2>
<p>规范化理论正是用来改造关系模式，通过分解关系模式来消除其中不合适的数据依赖，以解决插入异常、删除异常和数据冗余等问题</p>
<h3 id="函数依赖">函数依赖</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606110834419.png" class title="image-20230606110834419">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111112894.png" class title="image-20230606111112894">
<h4 id="平凡函数依赖与非平凡函数依赖">平凡函数依赖与非平凡函数依赖</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111518936.png" class title="image-20230606111518936">
<h4 id="完全函数依赖与部分函数依赖">完全函数依赖与部分函数依赖</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111351404.png" class title="image-20230606111351404">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111438093.png" class title="image-20230606111438093">
<h4 id="传递函数依赖">传递函数依赖</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111620765.png" class title="image-20230606111620765">
<h3 id="范式">范式</h3>
<h4 id="nf总结">NF总结</h4>
<p>1NF必须保持的最基本要求，数据项不能再分解</p>
<p>2NF消除了所有非主属性对主属性的部分函数依赖</p>
<p>3NF消除了所有非主属性对主属性的传递函数依赖</p>
<p><br></p>
<p>构造数据库必须遵循一定的规则，在关系数据库中，这种规则就是范式</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230606111818172.png" class title="image-20230606111818172">
<h4 id="从低一级向高一级范式转换的基本思考点">从低一级向高一级范式转换的基本思考点</h4>
<p>遵照的原则：一事一地原则</p>
<p>解决方法：模式垂直分解</p>
<p>分解注意：<strong>保持函数依赖</strong>的分解（模式分解不能破坏原来的语义）；保持数据不丢失的分解（<strong>无损连接</strong>，既不能多信息，也不能少信息）</p>
<p>具体做法：将导致产生部分函数依赖的主码与非主属性分离，各自成为一个关系</p>
<h4 id="nf">1NF</h4>
<p>1NF的要求：如果一个关系模式R的所有属性都是<strong>不可分的基本数据项</strong>，则<span class="math inline">\(R\in 1NF\)</span></p>
<p>第一范式是关系模式最基本的要求</p>
<h4 id="nf-1">2NF</h4>
<p>2NF的要求：若关系模式$R<span class="math inline">\(1NF，并且每一个非主属性都完全函数依赖于R的码，则\)</span>R$2NF</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608214700393.png" class title="image-20230608214700393">
<p>如图，主码的真子集也能决定Sdepar，所以存在部分函数依赖</p>
<h4 id="nf-2">3NF</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608215515237.png" class title="image-20230608215515237">
<h3 id="对表进行优化">对表进行优化</h3>
<p>遵照“一事一地”原则</p>
<p>解决方法：模式垂直分解</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608215453243.png" class title="image-20230608215453243">
<h3 id="规范化理论总结">规范化理论总结</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608215711552.png" class title="image-20230608215711552">
<h2 id="模式的分解">模式的分解</h2>
<p>模式分解要满足：无损连接性，保持函数依赖</p>
<h3 id="无损连接性">无损连接性</h3>
<p>是指分解后的关系通过自然连接可以恢复成原来的关系，即通过自然连接得到的关系与原来的关系相比，既不多出信息、又不丢失信息</p>
<h3 id="保持函数依赖">保持函数依赖</h3>
<p>保持函数依赖分解是指在模式的分解过程中，函数依赖不能丢失的特性，即模式分解不能破坏原来的语义</p>
<h1 id="数据库设计">数据库设计</h1>
<h2 id="数据库设计的任务和目标">数据库设计的任务和目标</h2>
<p>任务：设计最优的模式</p>
<p>目标：满足各种用户数据组织管理的需求，实现数据共享</p>
<h2 id="数据库设计四张图">数据库设计四张图</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608224125986.png" class title="image-20230608224125986">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608224133700.png" class title="image-20230608224133700">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608224142314.png" class title="image-20230608224142314">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608224151769.png" class title="image-20230608224151769">
<h2 id="数据库设计六个阶段">数据库设计六个阶段</h2>
<p>需求分析阶段（基础，最困难，最耗费时间）</p>
<p>概念设计阶段（关键）</p>
<p>逻辑结构设计阶段</p>
<p>数据库物理设计阶段</p>
<p>数据库实施阶段</p>
<p>数据库运行和维护阶段</p>
<table>
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 40%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>数据库设计阶段</th>
<th>目标</th>
<th>任务</th>
<th>方法</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>需求分析阶段</td>
<td>数据字典</td>
<td>充分了解原系统的工作概况，在此基础上确定新系统的功能</td>
<td>调查用户实际需求，再进一步分析，用SA方法自顶向下分析</td>
</tr>
<tr class="even">
<td>概念结构设计</td>
<td>构造E-R图</td>
<td>将需求分析得到的用户需求抽象为概念模型</td>
<td>抽象数据并设计局部视图，集成局部视图，得到全局概念结构</td>
</tr>
<tr class="odd">
<td>逻辑结构设计</td>
<td>构造数据模型</td>
<td>把概念结构设计阶段设计好的基本E-R图转换为与选用DBMS产品所支持的数据模型相符合的逻辑结构</td>
<td>E-R图向关系模型的转换，数据模型的优化，设计用户子模式</td>
</tr>
<tr class="even">
<td>物理结构设计</td>
<td>存储结构与存储方法</td>
<td>为一个给定的逻辑数据模型选取一个最适合应用要求的物理结构</td>
<td>确定数据库物理结构，对物理结构进行评价</td>
</tr>
<tr class="odd">
<td>数据库实施阶段</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>数据库运行维护阶段</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="数据库设计特点">数据库设计特点</h2>
<p>特点：三分技术，七分管理，十二分基础数据</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608220850219.png" class title="image-20230608220850219">
<h2 id="需求分析">需求分析</h2>
<h3 id="需求分析的任务">需求分析的任务</h3>
<p>通过详细调查现实世界要处理的对象（组织、部门、企业等），充分<strong>了解原系统</strong>（手工系统或计算机系统）<strong>工作概况，明确用户的各种需求</strong></p>
<p>在此基础上<strong>确定新系统的功能</strong>。新系统必须充分考虑今后可能的扩充和改变，不能仅仅按当前应用需求来设计数据库</p>
<h3 id="需求分析重点">需求分析重点</h3>
<p>需求分析的重点是调查、收集与分析用户在数据管理中的<strong>信息要求、处理要求、安全性与完整性要求</strong></p>
<h4 id="信息要求">信息要求</h4>
<p>用户需要从数据库中获得信息的内容与性质</p>
<p>由用户的信息要求可以导出数据要求，即在数据库中需要存储哪些数据</p>
<h4 id="处理要求">处理要求</h4>
<p>要完成什么处理功能</p>
<p>对处理的响应时间的要求</p>
<p>对处理方式的要求(批处理/联机处理)</p>
<h3 id="需求分析方法">需求分析方法</h3>
<p>自顶向下的结构化分析方法（Structured Analysis，简称SA方法）</p>
<p>SA方法，从最上层的系统组织机构入手，采用逐层分解的方式分析系统，并用<strong>数据流程图和数据字典</strong>描述系统</p>
<h3 id="数据流程图">数据流程图</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608221846303.png" class title="image-20230608221846303">
<h3 id="数据字典">数据字典</h3>
<p>内容：</p>
<p>数据项</p>
<p>数据结构</p>
<p>数据流</p>
<p>数据存储</p>
<p>处理过程</p>
<h3 id="数据字典与数据流程图">数据字典与数据流程图</h3>
<p>区别：</p>
<p>数据流程图：是一种能全面地描述系统数据流程的主要工具，它用一组符号来描述整个系统中信息的全貌，综合地反映出信息在系统中的流动、处理和存储情况</p>
<p>数据字典:是对数据流程图中的数据项、数据结构、数据流、处理逻辑和数据存储进行定义和描述的工具，也是数据分析和管理工具，同时也是系统设计阶段进行数据库设计的重要依据</p>
<p>联系：</p>
<p>没有数据字典，数据流程图就不严格；没有数据流程图，数据字典也难于发挥作用</p>
<p>只有数据流程图和对数据流程图中每个元素的精确定义放在一起，才能共同构成系统的规格说明</p>
<h2 id="概念结构设计">概念结构设计</h2>
<h3 id="概念结构设计步骤">概念结构设计步骤</h3>
<p>自底向上设计步骤：</p>
<p>抽象数据并设计局部视图</p>
<p>集成局部视图，得到全局概念结构</p>
<h3 id="消除冗余">消除冗余</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608235513787.png" class title="image-20230608235513787">
<h2 id="逻辑结构设计">逻辑结构设计</h2>
<h3 id="逻辑结构设计任务">逻辑结构设计任务</h3>
<p>逻辑结构设计的任务就是把概念结构设计阶段设计好的基本<strong>E-R图转换为</strong>与选用DBMS产品所支持的数据模型相符合的<strong>逻辑结构</strong></p>
<h3 id="e-r图向关系模型的转换">E-R图向关系模型的转换</h3>
<h4 id="转换内容">转换内容</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608235710810.png" class title="image-20230608235710810">
<h4 id="转换原则">转换原则</h4>
<p>一个实体型转换为一个关系模式</p>
<p>一个m:n联系转换为一个关系模式</p>
<p>一个1:n联系可以转换为一个独立的关系模式，也可以与n端对应的关系模式合并</p>
<p>一个1:1联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并</p>
<p>三个或三个以上实体间的一个多元联系转换为一个关系模式</p>
<p>具有相同码的关系模式可合并</p>
<h2 id="物理结构设计">物理结构设计</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608235813502.png" class title="image-20230608235813502">
<h2 id="数据库实施与维护">数据库实施与维护</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230608235833888.png" class title="image-20230608235833888">
<h1 id="实验考试复习整理">实验考试复习整理</h1>
<h2 id="指令总结">指令总结</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">建表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名</span><br><span class="line">(列名 数据类型 约束)</span><br><span class="line"></span><br><span class="line">修改表</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">drop</span> modify</span><br><span class="line"></span><br><span class="line">删除表</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名</span><br><span class="line"></span><br><span class="line">查询 </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件 <span class="keyword">group</span> <span class="keyword">by</span> 列名 <span class="keyword">having</span> 条件 <span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">asc</span><span class="operator">/</span><span class="keyword">desc</span></span><br><span class="line"></span><br><span class="line">集函数</span><br><span class="line">count, sum, avg, max, min</span><br><span class="line"></span><br><span class="line">to_date(): 插入用，如to_date(<span class="string">&#x27;1997/10/01&#x27;</span>,<span class="string">&#x27;yyyy/mm/dd&#x27;</span>)</span><br><span class="line">to_char(): 求年龄用，如<span class="number">2023</span><span class="operator">-</span>to_char(sbirth,<span class="string">&#x27;yyyy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">并交差</span><br><span class="line"><span class="keyword">union</span>, <span class="keyword">intersect</span>, minus</span><br><span class="line"></span><br><span class="line">插入数据</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span>(<span class="string">&#x27;值&#x27;</span>)</span><br><span class="line"></span><br><span class="line">修改数据</span><br><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名<span class="operator">=</span><span class="string">&#x27;值&#x27;</span> <span class="keyword">where</span> 条件</span><br><span class="line"></span><br><span class="line">删除数据</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件</span><br><span class="line"></span><br><span class="line">创建视图</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名 <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span>语句</span><br><span class="line"></span><br><span class="line">创建用户</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> 用户名</span><br><span class="line">identified <span class="keyword">by</span> 密码</span><br><span class="line"><span class="keyword">default</span> tablespace users</span><br><span class="line">temporary tablespace temp</span><br><span class="line">quota unlimited <span class="keyword">on</span> users</span><br><span class="line"></span><br><span class="line">修改用户</span><br><span class="line">把<span class="keyword">create</span>改成<span class="keyword">alter</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> u1</span><br><span class="line">identified <span class="keyword">by</span> <span class="number">123456</span></span><br><span class="line"><span class="keyword">default</span> tablespace users</span><br><span class="line">temporary tablespace temp</span><br><span class="line">quota unlimited <span class="keyword">on</span> users</span><br><span class="line"></span><br><span class="line">删除用户</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> 用户名 [cascade]</span><br><span class="line"></span><br><span class="line">授予系统权限</span><br><span class="line"><span class="keyword">grant</span> 系统权限 <span class="keyword">to</span> 用户<span class="operator">/</span>角色 [<span class="keyword">with</span> admin option]</span><br><span class="line"></span><br><span class="line">收回系统权限</span><br><span class="line"><span class="keyword">revoke</span> 系统权限 <span class="keyword">from</span></span><br><span class="line"></span><br><span class="line">授予对象权限</span><br><span class="line"><span class="keyword">grant</span> 对象权限 <span class="keyword">on</span> 对象 <span class="keyword">to</span> 用户<span class="operator">/</span>角色 [<span class="keyword">with</span> <span class="keyword">grant</span> option]</span><br><span class="line"></span><br><span class="line">收回对象权限</span><br><span class="line"><span class="keyword">revoke</span> 对象权限 <span class="keyword">on</span> 对象 <span class="keyword">from</span> 用户<span class="operator">/</span>角色 [cascade constraints]</span><br><span class="line"></span><br><span class="line">创建角色</span><br><span class="line"><span class="keyword">create</span> role 角色名</span><br><span class="line"></span><br><span class="line">修改角色</span><br><span class="line"><span class="keyword">alter</span> role 角色名</span><br><span class="line"></span><br><span class="line">删除角色</span><br><span class="line"><span class="keyword">drop</span> role 角色名</span><br><span class="line"></span><br><span class="line">PL<span class="operator">/</span><span class="keyword">SQL</span>语句</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">条件语句</span><br><span class="line">	if m<span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">then</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;不及格&#x27;</span>);</span><br><span class="line">	elsif m<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">and</span> m<span class="operator">&lt;</span><span class="number">100</span> <span class="keyword">then</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;及格&#x27;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;100&#x27;</span>);</span><br><span class="line">	<span class="keyword">end</span> if;</span><br><span class="line">	</span><br><span class="line">循环语句</span><br><span class="line">loop</span><br><span class="line">	语句</span><br><span class="line">	exit <span class="keyword">when</span> 条件</span><br><span class="line"><span class="keyword">end</span> loop;</span><br><span class="line"></span><br><span class="line">游标</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">	v_sno s.sno<span class="operator">%</span>type;</span><br><span class="line">	v_sname s.sname<span class="operator">%</span>type;</span><br><span class="line">	<span class="keyword">cursor</span> c2(v_dept s.college<span class="operator">%</span>type <span class="keyword">default</span> <span class="string">&#x27;信息&#x27;</span>) <span class="keyword">is</span></span><br><span class="line">	<span class="keyword">select</span> sno,sname <span class="keyword">from</span> s <span class="keyword">where</span> college<span class="operator">=</span>v_dept;	<span class="operator">/</span><span class="operator">/</span>声明游标</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">open</span> c2(vdept<span class="operator">=</span><span class="operator">&gt;</span><span class="string">&#x27;植保&#x27;</span>);						<span class="operator">/</span><span class="operator">/</span>打开游标</span><br><span class="line">	loop</span><br><span class="line">		<span class="keyword">fetch</span> c2 <span class="keyword">into</span> v_sno,v_sname;				<span class="operator">/</span><span class="operator">/</span>取数据</span><br><span class="line">		exit <span class="keyword">when</span> c2<span class="operator">%</span>notfound;</span><br><span class="line">		dbms_output.put_line(v_sno<span class="operator">||</span><span class="string">&#x27;,&#x27;</span><span class="operator">||</span>v_sname);</span><br><span class="line">	<span class="keyword">end</span> loop;</span><br><span class="line">	<span class="keyword">close</span> c2;									<span class="operator">/</span><span class="operator">/</span>关闭游标</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">存储过程</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> TP1 <span class="keyword">is</span></span><br><span class="line">a s.sno<span class="operator">%</span>type;</span><br><span class="line">b s.ssex<span class="operator">%</span>type;</span><br><span class="line">c s.college<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> sname,ssex,college</span><br><span class="line">  <span class="keyword">into</span> a,b,c</span><br><span class="line">  <span class="keyword">from</span> s</span><br><span class="line">  <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04001&#x27;</span>;</span><br><span class="line">  dbms_output.put_line(a<span class="operator">||</span>b<span class="operator">||</span>c);</span><br><span class="line"><span class="keyword">end</span> TP1;</span><br><span class="line"></span><br><span class="line">触发器</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">trigger</span> t_track_spj</span><br><span class="line">  after <span class="keyword">update</span> <span class="keyword">on</span> spj </span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  x1 number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  x1:<span class="operator">=</span><span class="built_in">abs</span>(:new.qty<span class="operator">-</span>:old.qty)<span class="operator">/</span>:old.qty;</span><br><span class="line">  if x1 <span class="operator">&gt;</span><span class="number">0.1</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> spj_tra(sno,pno,jno,b_qty,a_qty)</span><br><span class="line">    <span class="keyword">values</span>(:new.sno,:new.pno,:new.jno,:old.qty,:new.qty);</span><br><span class="line">  <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span> t_track_spj;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="首先启动oracle服务">首先启动Oracle服务</h2>
<p>计算机单击右键——管理——服务和应用程序——服务</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601153501098.png" class title="image-20230601153501098">
<p>首先启动TNS监听服务，再启动service服务，这样就能登录了</p>
<h2 id="用sys登录数据库新建用户">用sys登录数据库新建用户</h2>
<p>连接为选SYSDBA</p>
<p>数据库选ORCL</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601153902785.png" class title="image-20230601153902785">
<p>新建user先赋予DBA权限</p>
<h2 id="数据定义">数据定义</h2>
<h3 id="创建表">创建表</h3>
<p>可以用GUI创建表，然后用右下角查看SQL复制粘贴</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161510050.png" class title="image-20230601161510050">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161529966.png" class title="image-20230601161529966">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161628684.png" class title="image-20230601161628684">
<h3 id="修改表">修改表</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161700071.png" class title="image-20230601161700071">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161730587.png" class title="image-20230601161730587">
<h3 id="删除表">删除表</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161757966.png" class title="image-20230601161757966">
<p>注：drop可以drop表，也可以drop列，但drop列要跟在alter table后</p>
<h2 id="查询语句">查询语句</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601161924901.png" class title="image-20230601161924901">
<h3 id="单表查询">单表查询</h3>
<h4 id="选择表中的若干列">选择表中的若干列</h4>
<p>查询指定列：<code>select sname from s</code></p>
<p>查询全部列：<code>select * from s</code></p>
<p>查询经过计算的值（如查询年龄）：<code>select sname 学生姓名,2023-to_char(sbirth,'yyyy') as 年龄 from s</code></p>
<p>注：</p>
<p><code>to_char()</code>函数有两个参数，第一个参数为进行运算的值，第二个参数是一些设置（如取年月日中的哪一部分，年<code>'yyyy'</code>，月<code>'mm'</code>，日<code>'dd'</code>）</p>
<p>给列起别名有两种：直接加空格，然后写别名，或者as后面跟别名，别名不需要用<code>' '</code>包起来（用单引号引起来的是字符）</p>
<h4 id="选择表中若干元组">选择表中若干元组</h4>
<h5 id="distinct">Distinct</h5>
<p>Distinct关键字：取消取值重复行</p>
<p>如sc表中找学号</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601162919584.png" class title="image-20230601162919584">
<p>会出现重复，所以就要用到Distinct关键字：<code>select distinct sno from sc</code></p>
<h5 id="where">where</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601163111707.png" class title="image-20230601163111707">
<p>注：</p>
<p>等于不是两个等号，是一个等号</p>
<p>比较符号前加not，为取反</p>
<p>确定集合：<code>select * from sc where grade in (60,70,80,90,100)</code>，可以查到成绩在这个集合里的值，比or简单一些</p>
<p><br></p>
<p>字符匹配like</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601163556806.png" class title="image-20230601163556806">
<p>通配符可以代表任意字符：<code>%</code>代表任意长度（包括0）的字符串，<code>_</code>代表任意单个字符</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601163617439.png" class title="image-20230601163617439">
<p>如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;张%&#x27;</span>		<span class="operator">/</span><span class="operator">/</span>找到所有姓张的</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;王__&#x27;</span>		<span class="operator">/</span><span class="operator">/</span>找到所有姓王，名字是<span class="number">3</span>个字的</span><br></pre></td></tr></table></figure>
<p>转义字符：当要查找的字符串里本来就含有<code>%或_</code>时，用转义字符</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601164159804.png" class title="image-20230601164159804">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> c <span class="keyword">where</span> cname <span class="keyword">like</span> <span class="string">&#x27;DB/_%i__&#x27;</span> <span class="keyword">escape</span> <span class="string">&#x27;/&#x27;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<p>涉及空值，用<code>is null</code>或<code>is not null</code>，不能用<code>= null</code>代替</p>
<h4 id="对查询结果排序">对查询结果排序</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601164628383.png" class title="image-20230601164628383">
<p>ASC: ascend</p>
<p>DESC: descend</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,grade <span class="keyword">from</span> sc <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;003&#x27;</span> <span class="keyword">order</span> <span class="keyword">by</span> grade <span class="keyword">desc</span></span><br></pre></td></tr></table></figure>
<h4 id="使用集函数">使用集函数</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601165008797.png" class title="image-20230601165008797">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601165021346.png" class title="image-20230601165021346">
<p>distinct：取消重复行</p>
<h5 id="例题">例题</h5>
<p>COUNT：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601165150762.png" class title="image-20230601165150762">
<p>考虑到一个学生会选很多门课，所以要加distinct</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> sno) <span class="keyword">from</span> sc</span><br></pre></td></tr></table></figure>
<p>AVG:</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601165327429.png" class title="image-20230601165327429">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(grade) <span class="keyword">from</span> sc <span class="keyword">where</span> cno<span class="operator">=</span><span class="string">&#x27;001&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="对查询结果分组">对查询结果分组</h4>
<p>分组：值相等的为一组，分组后可以进一步统计</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601165617757.png" class title="image-20230601165617757">
<p>用到<code>group by</code>后，select后面出现的属性列的列名，只能是分组的列名或集函数</p>
<p>group by字句后，还可以用having字句做进一步筛选</p>
<h5 id="例题-1">例题</h5>
<p>查询各个供应商号及其供应了多少类零件</p>
<p>用sno分组后如图，分为5组：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601171818181.png" class title="image-20230601171818181">
<p>每组会有相同的sno，但是其他值一般都不同</p>
<p>一个供应商会给不同工程供应相同零件，所以零件种类pno要有distinct</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,<span class="built_in">count</span>(<span class="keyword">distinct</span> pno) <span class="keyword">from</span> spj <span class="keyword">group</span> <span class="keyword">by</span> sno</span><br></pre></td></tr></table></figure>
<p>查询供应了2类以上零件的供应商号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> spj <span class="keyword">group</span> <span class="keyword">by</span> sno <span class="keyword">having</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> pno)<span class="operator">&gt;</span><span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>注：where和having使用的不同</p>
<p>虽然都是用来写条件，where是分组之前，对表中的元组进行筛选，作用对象是基本表；而分组以后的结果进一步筛选，用having</p>
<h3 id="连接查询">连接查询</h3>
<p>同时查阅2个以上的表：连接查询</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601172826587.png" class title="image-20230601172826587">
<h4 id="等值与非等值连接查询">等值与非等值连接查询</h4>
<p>用<code>=</code>实现自然连接</p>
<p>一般来说，两张表先用自然连接，再往后加条件</p>
<h4 id="自身连接查询">自身连接查询</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601173457582.png" class title="image-20230601173457582">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601173511528.png" class title="image-20230601173511528">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sno <span class="keyword">from</span> sc a, sc b <span class="keyword">where</span> a.sno<span class="operator">=</span>b.sno <span class="keyword">and</span> a.cno<span class="operator">=</span><span class="string">&#x27;001&#x27;</span> <span class="keyword">and</span> b.cno<span class="operator">=</span><span class="string">&#x27;003&#x27;</span></span><br></pre></td></tr></table></figure>
<p>查询每门课的先修课：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> first.cno,second.cpno <span class="keyword">from</span> c <span class="keyword">first</span>, c <span class="keyword">second</span> <span class="keyword">where</span> first.cpno<span class="operator">=</span>second.cno <span class="keyword">and</span> second.cpno <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174053591.png" class title="image-20230601174053591">
<h4 id="外连接查询">外连接查询</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174310997.png" class title="image-20230601174310997">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174438207.png" class title="image-20230601174438207">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174513151.png" class title="image-20230601174513151">
<h4 id="复合条件连接查询">复合条件连接查询</h4>
<p>where含有多个条件</p>
<h3 id="集合查询">集合查询</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174651274.png" class title="image-20230601174651274">
<p>Oracle中差操作用到MINUS</p>
<h4 id="并操作">并操作</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174831260.png" class title="image-20230601174831260">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174851300.png" class title="image-20230601174851300">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> sc <span class="keyword">where</span> cno<span class="operator">=</span><span class="string">&#x27;001&#x27;</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> sc <span class="keyword">where</span> cno<span class="operator">=</span><span class="string">&#x27;003&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="交操作">交操作</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601174956720.png" class title="image-20230601174956720">
<h4 id="差操作">差操作</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601175055232.png" class title="image-20230601175055232">
<h2 id="数据更新">数据更新</h2>
<p>如果想立即看到结果，就得加<code>commit;</code>语句，并且语句和<code>commit;</code>之间有分号<code>;</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601191440732.png" class title="image-20230601191440732">
<p>alter
table：主要用于修改表的结构，和表中数据无关（可以加列，加新的完整性约束）</p>
<p>update：修改表中的数据，与表结构无关</p>
<p>drop：对数据类型做删除</p>
<p>delete：删除表中一行数据，不会对表结构造成影响</p>
<h3 id="插入数据">插入数据</h3>
<h4 id="插入单个元组">插入单个元组</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601191734385.png" class title="image-20230601191734385">
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> s <span class="keyword">values</span>(<span class="string">&#x27;04050&#x27;</span>,<span class="string">&#x27;陈东&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,to_date(<span class="string">&#x27;1997/10/01&#x27;</span>,<span class="string">&#x27;yyyy/mm/dd&#x27;</span>),<span class="string">&#x27;信息学院&#x27;</span>) </span><br></pre></td></tr></table></figure>
<p>注：<code>to_date()</code>函数有两个参数：第一个参数是要插入的具体日期，第二个是日期的格式</p>
<p>也可以</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> s(college,ssex,sno,sname,sbirth) </span><br><span class="line"><span class="keyword">values</span>(<span class="string">&#x27;信息学院&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;04050&#x27;</span>,<span class="string">&#x27;陈东&#x27;</span>,to_date(<span class="string">&#x27;1997/10/01&#x27;</span>,<span class="string">&#x27;yyyy/mm/dd&#x27;</span>)) </span><br></pre></td></tr></table></figure>
<h4 id="插入子查询结果">插入子查询结果</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193115918.png" class title="image-20230601193115918">
<h3 id="修改数据">修改数据</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193319414.png" class title="image-20230601193319414">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193346088.png" class title="image-20230601193346088">
<p>例：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193405891.png" class title="image-20230601193405891">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> s <span class="keyword">set</span> college<span class="operator">=</span><span class="string">&#x27;外语系&#x27;</span> <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04001&#x27;</span></span><br></pre></td></tr></table></figure>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193627069.png" class title="image-20230601193627069">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> s <span class="keyword">set</span> sbirth<span class="operator">=</span>sbirth<span class="number">-365</span> <span class="keyword">where</span> college<span class="operator">=</span><span class="string">&#x27;信息&#x27;</span></span><br></pre></td></tr></table></figure>
<p>注：日期型可以直接拿来算数运算，以天为单位</p>
<p><br></p>
<p>带子查询的update：</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601193831266.png" class title="image-20230601193831266">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> sc <span class="keyword">set</span> grade<span class="operator">=</span><span class="number">100</span> <span class="keyword">where</span> sc.sno <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> sno <span class="keyword">from</span> s <span class="keyword">where</span> college<span class="operator">=</span><span class="string">&#x27;信息&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="删除数据">删除数据</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601194129994.png" class title="image-20230601194129994">
<p>注：delete删的是元组</p>
<p><br></p>
<p>例题</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601194207359.png" class title="image-20230601194207359">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04009&#x27;</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> s <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04009&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>
<p>但可能会违反参照完整性</p>
<p>所以必须先删除参考表的值</p>
<p><br></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601194522965.png" class title="image-20230601194522965">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sno <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> sno <span class="keyword">from</span> s <span class="keyword">where</span> college<span class="operator">=</span><span class="string">&#x27;信息&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="oracle安全性控制-1">Oracle安全性控制</h2>
<h3 id="用户管理-1">用户管理</h3>
<h4 id="创建用户">创建用户</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601194800293.png" class title="image-20230601194800293">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601194902535.png" class title="image-20230601194902535">
<p>注：创建的新用户甚至没有登陆权限</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195013939.png" class title="image-20230601195013939">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> u1</span><br><span class="line">identified <span class="keyword">by</span> <span class="number">123456</span></span><br><span class="line"><span class="keyword">default</span> tablespace users</span><br><span class="line">temporary tablespace temp</span><br><span class="line">quota unlimited <span class="keyword">on</span> users</span><br></pre></td></tr></table></figure>
<p>但是是不能登录，因为没登录权限</p>
<h4 id="修改用户">修改用户</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195540891.png" class title="image-20230601195540891">
<p>把<code>create</code>换成<code>alter</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195636722.png" class title="image-20230601195636722">
<h4 id="删除用户">删除用户</h4>
<p>需要有<code>drop user</code>权限</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195729928.png" class title="image-20230601195729928">
<p>如果不指定<code>cascade</code>，而且用户已经创建表了之后，会报错：必须指定<code>cascade</code></p>
<h3 id="模式-2">模式</h3>
<h4 id="模式概念">模式概念</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195951078.png" class title="image-20230601195951078">
<h4 id="模式选择与切换">模式选择与切换</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601195957831.png" class title="image-20230601195957831">
<h4 id="模式对象与非模式对象">模式对象与非模式对象</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601200314016.png" class title="image-20230601200314016">
<h4 id="模式和用户">模式和用户</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601200421105.png" class title="image-20230601200421105">
<h3 id="权限管理-1">权限管理</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601200648440.png" class title="image-20230601200648440">
<h4 id="系统权限">系统权限</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601201341867.png" class title="image-20230601201341867">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601201505076.png" class title="image-20230601201505076">
<p><code>create session</code>：登录数据库权限</p>
<p><code>create table</code>：创建表</p>
<p><code>create any table</code>：在任何用户模式创建表</p>
<h5 id="授予用户系统权限">授予用户系统权限</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601201122534.png" class title="image-20230601201122534">
<p><code>with admin option</code>: 用户还可以把这个权限授予其他用户</p>
<p>首先得授予用户<code>create session</code>权限</p>
<p>在别的用户模式下建表：表名前加<code>模式名.</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601201827655.png" class title="image-20230601201827655">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> session, <span class="keyword">create</span> <span class="keyword">any</span> <span class="keyword">table</span>, <span class="keyword">select</span> <span class="keyword">any</span> <span class="keyword">table</span> <span class="keyword">to</span> u1</span><br></pre></td></tr></table></figure>
<h5 id="回收用户系统权限">回收用户系统权限</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601201754701.png" class title="image-20230601201754701">
<h4 id="对象权限">对象权限</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601202107163.png" class title="image-20230601202107163">
<h5 id="授予对象权限">授予对象权限</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601202141588.png" class title="image-20230601202141588">
<p>注：对象权限<code>with grant option</code>与系统权限对比：<code>with admin option</code></p>
<p>on后面只能跟一个对象，不能跟多个对象</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601202213822.png" class title="image-20230601202213822">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> s <span class="keyword">to</span> u1,u2</span><br></pre></td></tr></table></figure>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601202526166.png" class title="image-20230601202526166">
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">update</span>(sno) <span class="keyword">on</span> s <span class="keyword">to</span> u3 <span class="keyword">with</span> <span class="keyword">grant</span> option</span><br></pre></td></tr></table></figure>
<h5 id="回收对象权限">回收对象权限</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601202821067.png" class title="image-20230601202821067">
<p>如果授予的时候加了<code>with grant option</code>，收回的时候就要有<code>cascade constraints</code></p>
<h3 id="角色管理-1">角色管理</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601203047567.png" class title="image-20230601203047567">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601203452565.png" class title="image-20230601203452565">
<h2 id="oracle数据库编程">Oracle数据库编程</h2>
<h3 id="plsql简介">PL/SQL简介</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601204136595.png" class title="image-20230601204136595">
<h4 id="变量及数据类型">变量及数据类型</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601204223860.png" class title="image-20230601204223860">
<p>在Oracle中，赋值为<code>:=</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601204404170.png" class title="image-20230601204404170">
<p>好用的数据类型: <code>%type</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601204637353.png" class title="image-20230601204637353">
<p>例子：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">	m sc.sno<span class="operator">%</span>type;</span><br><span class="line">	n sc.cno<span class="operator">%</span>type;</span><br><span class="line">	t sc.grade<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	m :<span class="operator">=</span> <span class="string">&#x27;01323&#x27;</span>;</span><br><span class="line">	n :<span class="operator">=</span> <span class="string">&#x27;777&#x27;</span>;</span><br><span class="line">	t :<span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">insert</span> <span class="keyword">into</span> s <span class="keyword">values</span>(m,n,t);</span><br><span class="line">	<span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>注：declare和begin后面无<code>;</code></p>
<p><code>end</code>后面才有<code>;</code></p>
<p>中间每一条语句都有<code>;</code></p>
<h4 id="运算符与表达式">运算符与表达式</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601205426305.png" class title="image-20230601205426305">
<p><code>=&gt;</code>用于给形参赋值</p>
<p><code>..</code>用于for循环</p>
<p><code>||</code>连接字符串</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601205910814.png" class title="image-20230601205910814">
<h4 id="流程控制语句">流程控制语句</h4>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601205941555.png" class title="image-20230601205941555">
<h5 id="条件语句">条件语句</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601210037410.png" class title="image-20230601210037410">
<p>注意：<code>IF</code>后面跟<code>THEN</code>，<code>ELSIF</code>写法，<code>END IF;</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">m sc.grade<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">select</span> grade <span class="keyword">into</span> m</span><br><span class="line">	<span class="keyword">from</span> sc</span><br><span class="line">	<span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04001&#x27;</span> <span class="keyword">and</span> cno<span class="operator">=</span><span class="string">&#x27;003&#x27;</span>;</span><br><span class="line">	if m<span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">then</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;不及格&#x27;</span>);</span><br><span class="line">	elsif m<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">and</span> m<span class="operator">&lt;</span><span class="number">100</span> <span class="keyword">then</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;及格&#x27;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;100&#x27;</span>);</span><br><span class="line">	<span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>注：PL/SQL中的<code>select</code>可以<code>into</code>到变量里</p>
<h5 id="循环语句">循环语句</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211007334.png" class title="image-20230601211007334">
<p>例如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">x number(<span class="number">2</span>):<span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	loop</span><br><span class="line">		x:<span class="operator">=</span>x<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line">		dbms_output.put_line(<span class="string">&#x27;x现在的值是&#x27;</span><span class="operator">||</span>x);</span><br><span class="line">		exit <span class="keyword">when</span> x<span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">	<span class="keyword">end</span> loop;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211240874.png" class title="image-20230601211240874">
<h3 id="游标">游标</h3>
<h4 id="概念">概念</h4>
<p>在一段程序中处理所有查询结果</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211806224.png" class title="image-20230601211806224">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211827034.png" class title="image-20230601211827034">
<h4 id="游标使用步骤">游标使用步骤</h4>
<h5 id="声明游标">声明游标</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212037820.png" class title="image-20230601212037820">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212654831.png" class title="image-20230601212654831">
<h5 id="打开游标">打开游标</h5>
<p>执行游标的查询语句，然后存储在内存中</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212227757.png" class title="image-20230601212227757">
<h5 id="提取游标数据">提取游标数据</h5>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212327203.png" class title="image-20230601212327203">
<p><code>fetch</code>关键字，游标下移并取值</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212734826.png" class title="image-20230601212734826">
<p>重复取值：循环</p>
<p>循环结束：<code>c1%notfound</code>（c1为游标名）</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601212519026.png" class title="image-20230601212519026">
<h5 id="关闭游标">关闭游标</h5>
<p><code>close c1</code></p>
<h4 id="例-1">例</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">	v_sno s.sno<span class="operator">%</span>type;</span><br><span class="line">	v_sname s.sname<span class="operator">%</span>type;</span><br><span class="line">	<span class="keyword">cursor</span> c2(v_dept s.college<span class="operator">%</span>type <span class="keyword">default</span> <span class="string">&#x27;信息&#x27;</span>) <span class="keyword">is</span></span><br><span class="line">	<span class="keyword">select</span> sno,sname <span class="keyword">from</span> s <span class="keyword">where</span> college<span class="operator">=</span>v_dept;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">open</span> c2(vdept<span class="operator">=</span><span class="operator">&gt;</span><span class="string">&#x27;植保&#x27;</span>);</span><br><span class="line">	loop</span><br><span class="line">		<span class="keyword">fetch</span> c2 <span class="keyword">into</span> v_sno,v_sname;</span><br><span class="line">		exit <span class="keyword">when</span> c2<span class="operator">%</span>notfound;</span><br><span class="line">		dbms_output.put_line(v_sno<span class="operator">||</span><span class="string">&#x27;,&#x27;</span><span class="operator">||</span>v_sname);</span><br><span class="line">	<span class="keyword">end</span> loop;</span><br><span class="line">	<span class="keyword">close</span> c2;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<h3 id="存储过程">存储过程</h3>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211409854.png" class title="image-20230601211409854">
<p>一般都加<code>or replace</code></p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211550373.png" class title="image-20230601211550373">
<p>例题</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601211600518.png" class title="image-20230601211600518">
<p>存储过程中的变量声明在is后begin前</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> TP1 <span class="keyword">is</span></span><br><span class="line">a s.sno<span class="operator">%</span>type;</span><br><span class="line">b s.ssex<span class="operator">%</span>type;</span><br><span class="line">c s.college<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> sname,ssex,college</span><br><span class="line">  <span class="keyword">into</span> a,b,c</span><br><span class="line">  <span class="keyword">from</span> s</span><br><span class="line">  <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;04001&#x27;</span>;</span><br><span class="line">  dbms_output.put_line(a<span class="operator">||</span>b<span class="operator">||</span>c);</span><br><span class="line"><span class="keyword">end</span> TP1;</span><br></pre></td></tr></table></figure>
<p>调用：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">	TP1;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>带参数并用游标的：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> TP1(v_col s.college<span class="operator">%</span>type)</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">v_sname s.sname<span class="operator">%</span>type;</span><br><span class="line">v_cname c.cname<span class="operator">%</span>type;</span><br><span class="line">v_grade c.grade<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">cursor</span> c1 <span class="keyword">is</span></span><br><span class="line"><span class="keyword">select</span> sname,cname,grade <span class="keyword">from</span> s,sc,c <span class="keyword">where</span> s.sno<span class="operator">=</span>sc.sno <span class="keyword">and</span> c.cno<span class="operator">=</span>sc.cno <span class="keyword">and</span> college<span class="operator">=</span>v_col;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">open</span> c1;</span><br><span class="line">	loop</span><br><span class="line">		<span class="keyword">fetch</span> c1 <span class="keyword">into</span> v_sname,v_cname,v_grade;</span><br><span class="line">		exit <span class="keyword">when</span> c1<span class="operator">%</span>notfound;</span><br><span class="line">		dbms_output.put_line(v_sname<span class="operator">||</span>v_cname<span class="operator">||</span>v_grade);</span><br><span class="line">	<span class="keyword">end</span> loop;</span><br><span class="line">	<span class="keyword">close</span> c1;</span><br><span class="line"><span class="keyword">end</span> TP1;</span><br></pre></td></tr></table></figure>
<p>注意游标的关闭</p>
<h2 id="触发器">触发器</h2>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601225547712.png" class title="image-20230601225547712">
<p>触发事件：insert, delete, update</p>
<p>for each row: 行触发器（修改许多行元组，触发器执行若干次）</p>
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601225932395.png" class title="image-20230601225932395">
<img src="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/image-20230601230010628.png" class title="image-20230601230010628">
<p>例：GPA换算</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">trigger</span> t1</span><br><span class="line">  before <span class="keyword">insert</span> <span class="keyword">or</span> <span class="keyword">update</span> <span class="keyword">on</span> sc</span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  if :new.grade<span class="operator">&gt;=</span><span class="number">90</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">100</span> <span class="keyword">then</span></span><br><span class="line">  :new.gpa:<span class="operator">=</span><span class="number">4.0</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">85</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">89</span> <span class="keyword">then</span></span><br><span class="line">  :new.gpa:<span class="operator">=</span><span class="number">3.7</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">82</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">84</span> <span class="keyword">then</span></span><br><span class="line">  :new.gpa:<span class="operator">=</span><span class="number">3.3</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">78</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">81</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">75</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">77</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">2.7</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">71</span><span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">74</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">2.3</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">68</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">70</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">65</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">67</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">1.7</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">62</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">64</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">1.3</span>;</span><br><span class="line">  elsif :new.grade<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">and</span> :new.grade <span class="operator">&lt;=</span><span class="number">61</span> <span class="keyword">then</span></span><br><span class="line">    :new.gpa:<span class="operator">=</span><span class="number">1.0</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  :new.gpa:<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">  <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span> t1;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>例：当对spj表的供应量qty属性值进行修改时，若供应量的变化范围超过10%，自动将修改的数据情况记录到另一个表spj_tra(sno,pno,jno,b_qty,a_qty)中，其中sno、pno、jno是被修改的元组的供应商号、零件号和工程号，b_qty是修改前的供应量，a_qty是修改后的供应量</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">创建spj_tra表格：</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> spj_tra(</span><br><span class="line">    sno varchar2(<span class="number">10</span>) ,</span><br><span class="line">    pno varchar2(<span class="number">10</span>) ,</span><br><span class="line">    jno varchar2(<span class="number">10</span>) ,</span><br><span class="line">    b_qty number,</span><br><span class="line">    a_qty number);</span><br><span class="line">    </span><br><span class="line">创建触发器：</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">trigger</span> t_track_spj</span><br><span class="line">  after <span class="keyword">update</span> <span class="keyword">on</span> spj </span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  x1 number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  x1:<span class="operator">=</span><span class="built_in">abs</span>(:new.qty<span class="operator">-</span>:old.qty)<span class="operator">/</span>:old.qty;</span><br><span class="line">  if x1 <span class="operator">&gt;</span><span class="number">0.1</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> spj_tra(sno,pno,jno,b_qty,a_qty)</span><br><span class="line">    <span class="keyword">values</span>(:new.sno,:new.pno,:new.jno,:old.qty,:new.qty);</span><br><span class="line">  <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span> t_track_spj;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><br></p>
<p><br></p>
<hr>
<h1 id="参考资料">参考资料</h1>
<p>课程PPT</p>
<p>实验视频</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%8D%E4%B9%A0/">复习</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="post-meta__tags" href="/tags/Oracle/">Oracle</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/03/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="数字信号处理复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数字信号处理复习整理</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/30/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="编译原理复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">编译原理复习整理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/06/03/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="数字信号处理复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-03</div><div class="title">数字信号处理复习整理</div></div></a></div><div><a href="/2023/02/12/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/Java%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="Java复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-12</div><div class="title">Java复习整理</div></div></a></div><div><a href="/2023/02/14/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="数据结构复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-14</div><div class="title">数据结构复习整理</div></div></a></div><div><a href="/2023/02/16/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="操作系统复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-16</div><div class="title">操作系统复习整理</div></div></a></div><div><a href="/2023/05/20/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%94%B5%E8%B7%AF%E4%B8%8E%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="电路与模拟电子技术复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-20</div><div class="title">电路与模拟电子技术复习整理</div></div></a></div><div><a href="/2023/05/30/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="编译原理复习整理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-30</div><div class="title">编译原理复习整理</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/WinkySpeed%20SP%20-%20Repaired.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">WinkySpeed</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/WinkySpeed"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">数据库复习整理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%AA%E8%AE%BA"><span class="toc-number">2.</span> <span class="toc-text">绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E9%97%AE%E9%A2%98"><span class="toc-number">2.1.</span> <span class="toc-text">重点问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%92%8C%E4%BF%A1%E6%81%AF%E7%9A%84%E8%81%94%E7%B3%BB%E4%B8%8E%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.1.</span> <span class="toc-text">数据和信息的联系与区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5%E4%B8%AD%E7%9A%84%E6%9C%89%E7%BB%84%E7%BB%87%E6%8C%87%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.1.2.</span> <span class="toc-text">数据库概念中的“有组织”指的是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dbms%E5%92%8Cdbs%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.3.</span> <span class="toc-text">DBMS和DBS有什么区别？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8"><span class="toc-number">2.1.4.</span> <span class="toc-text">为什么要建立数据模型，数据模型有什么作用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E5%88%86%E4%B8%BA%E5%93%AA%E5%87%A0%E7%A7%8D%E5%88%86%E5%88%AB%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8"><span class="toc-number">2.1.5.</span> <span class="toc-text">数据模型分为哪几种？分别有什么作用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E9%98%B6%E6%AE%B5%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8C%96%E5%92%8C%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7%E9%AB%98%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.6.</span> <span class="toc-text">你如何理解数据库系统阶段“数据结构化”和“数据独立性高”的特点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">2.1.7.</span> <span class="toc-text">说说你对概念模型的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%89%E8%A6%81%E7%B4%A0%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.1.8.</span> <span class="toc-text">逻辑模型的三要素是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E7%82%B9"><span class="toc-number">2.1.9.</span> <span class="toc-text">关系模型有哪些优点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E5%9E%8B%E5%92%8C%E5%80%BC%E6%A8%A1%E5%BC%8F%E5%92%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%88%86%E5%88%AB%E6%8C%87%E4%BB%80%E4%B9%88"><span class="toc-number">2.1.10.</span> <span class="toc-text">如何理解数据库系统中的“型”和“值”？模式和模式的实例分别指什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%8B%AC%E7%AB%8B%E6%80%A7%E7%8B%AC%E7%AB%8B%E6%80%A7%E5%88%86%E4%B8%BA%E5%93%AA%E4%B8%A4%E7%A7%8D%E5%88%86%E5%88%AB%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81"><span class="toc-number">2.1.11.</span> <span class="toc-text">什么是数据库的独立性？独立性分为哪两种，分别如何保证？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">2.2.</span> <span class="toc-text">数据库系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9B%9B%E4%B8%AA%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.1.</span> <span class="toc-text">数据库四个基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E5%92%8C%E6%95%B0%E6%8D%AEd"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">信息和数据(D)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93db"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">数据库(DB)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9Fdbms"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">数据库管理系统(DBMS)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9Fdbs"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">数据库系统(DBS)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.2.</span> <span class="toc-text">数据库系统的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">2.3.1.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%B1%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.</span> <span class="toc-text">两类数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">概念模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E5%92%8C%E7%89%A9%E7%90%86%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">逻辑模型和物理模型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.2.1.</span> <span class="toc-text">逻辑模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.2.2.</span> <span class="toc-text">物理模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E4%B8%96%E7%95%8C%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.3.3.</span> <span class="toc-text">信息世界的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E5%AE%9E%E4%BD%93%E9%9B%86%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">两个实体集之间的关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.4.</span> <span class="toc-text">概念模型的表示方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B-1"><span class="toc-number">2.3.5.</span> <span class="toc-text">逻辑模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E7%BB%84%E6%88%90%E8%A6%81%E7%B4%A0"><span class="toc-number">2.3.5.1.</span> <span class="toc-text">逻辑模型组成要素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.5.2.</span> <span class="toc-text">常用的逻辑模型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E6%A8%A1%E5%9E%8B%E6%A0%91"><span class="toc-number">2.3.5.2.1.</span> <span class="toc-text">层次模型(树)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%8A%B6%E6%A8%A1%E5%9E%8B%E5%9B%BE"><span class="toc-number">2.3.5.2.2.</span> <span class="toc-text">网状模型(图)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E8%A1%A8"><span class="toc-number">2.3.5.2.3.</span> <span class="toc-text">关系模型(表)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.5.3.</span> <span class="toc-text">关系模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">2.4.</span> <span class="toc-text">数据库系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%B3%BB%E7%BB%9F%E8%A7%82%E7%82%B9"><span class="toc-number">2.4.1.</span> <span class="toc-text">从系统观点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%94%A8%E6%88%B7%E8%A7%82%E7%82%B9"><span class="toc-number">2.4.2.</span> <span class="toc-text">从用户观点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%8B%E5%92%8C%E5%80%BC%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.3.</span> <span class="toc-text">型和值的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%92%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.4.4.</span> <span class="toc-text">模式和模式的实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">模式的实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84"><span class="toc-number">2.4.5.</span> <span class="toc-text">数据库三级模式结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E9%80%BB%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.5.1.</span> <span class="toc-text">模式（逻辑模式）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%9C%B0%E4%BD%8D"><span class="toc-number">2.4.5.1.1.</span> <span class="toc-text">模式的地位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">2.4.5.1.2.</span> <span class="toc-text">模式的定义</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F%E5%AD%90%E6%A8%A1%E5%BC%8F%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.5.2.</span> <span class="toc-text">外模式（子模式，用户模式）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%9C%B0%E4%BD%8D"><span class="toc-number">2.4.5.2.1.</span> <span class="toc-text">外模式的地位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.4.5.2.2.</span> <span class="toc-text">模式与外模式的关系</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%82%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.5.3.</span> <span class="toc-text">内模式（存储模式）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E7%9A%84%E6%94%AF%E6%8C%81"><span class="toc-number">2.4.5.4.</span> <span class="toc-text">关系数据库对三级模式结构的支持</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%A4%E5%B1%82%E6%98%A0%E5%83%8F"><span class="toc-number">2.4.6.</span> <span class="toc-text">数据库系统的两层映像</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F"><span class="toc-number">2.4.6.1.</span> <span class="toc-text">外模式&#x2F;模式映像</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%BB%E8%BE%91%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-number">2.4.6.1.1.</span> <span class="toc-text">保证数据的逻辑独立性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F"><span class="toc-number">2.4.6.2.</span> <span class="toc-text">模式&#x2F;内模式映像</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%A9%E7%90%86%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-number">2.4.6.2.1.</span> <span class="toc-text">保证数据的物理独立性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.4.6.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90"><span class="toc-number">2.5.</span> <span class="toc-text">数据库系统组成</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E7%AB%A0%E9%87%8D%E7%82%B9"><span class="toc-number">3.1.</span> <span class="toc-text">本章重点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%88%86%E4%B8%8E%E7%90%86%E8%A7%A3%E5%9B%9B%E4%B8%AA%E6%A6%82%E5%BF%B5%E8%B6%85%E7%A0%81%E5%80%99%E9%80%89%E7%A0%81%E4%B8%BB%E7%A0%81%E5%A4%96%E7%A0%81"><span class="toc-number">3.1.1.</span> <span class="toc-text">区分与理解四个概念：超码、候选码、主码、外码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9C%89%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">3.1.2.</span> <span class="toc-text">理解数据库为什么要有完整性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%E8%A7%84%E5%88%99%E7%9A%84%E5%85%B7%E4%BD%93%E5%86%85%E5%AE%B9%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%99%E6%A0%B7%E5%88%B6%E5%AE%9A%E8%A7%84%E5%88%99"><span class="toc-number">3.1.3.</span> <span class="toc-text">实体完整性规则、参照完整性规则，规则的具体内容及为什么要这样制定规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97%E7%9A%84%E7%81%B5%E6%B4%BB%E8%BF%90%E7%94%A8"><span class="toc-number">3.1.4.</span> <span class="toc-text">关系代数运算的灵活运用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89"><span class="toc-number">3.2.</span> <span class="toc-text">关系数据结构及形式化定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB"><span class="toc-number">3.2.1.</span> <span class="toc-text">关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%85%B3%E7%B3%BB%E7%9A%84%E6%80%A7%E8%B4%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">基本关系的性质</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.3.</span> <span class="toc-text">关系模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%85%B3%E7%B3%BB"><span class="toc-number">3.3.1.</span> <span class="toc-text">关系模式与关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">3.4.</span> <span class="toc-text">关系完整性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0"><span class="toc-number">3.5.</span> <span class="toc-text">关系代数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97%E4%B8%89%E8%A6%81%E7%B4%A0"><span class="toc-number">3.5.1.</span> <span class="toc-text">关系代数运算三要素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.5.2.</span> <span class="toc-text">关系运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%93%E9%97%A8%E7%9A%84%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">专门的关系运算</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E6%8B%A9"><span class="toc-number">3.5.2.1.1.</span> <span class="toc-text">选择</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1"><span class="toc-number">3.5.2.1.2.</span> <span class="toc-text">投影</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.5.2.1.3.</span> <span class="toc-text">连接</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#theta%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.5.2.1.3.1.</span> <span class="toc-text">\(\theta\)连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.5.2.1.3.2.</span> <span class="toc-text">等值连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.5.2.1.3.3.</span> <span class="toc-text">自然连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.5.2.1.3.4.</span> <span class="toc-text">外连接</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B"><span class="toc-number">3.5.2.1.4.</span> <span class="toc-text">例</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E6%A6%82%E8%BF%B0"><span class="toc-number">4.</span> <span class="toc-text">SQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AE%9A%E4%B9%89%E6%A0%87%E5%87%86"><span class="toc-number">4.1.</span> <span class="toc-text">为什么要定义标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E7%9A%84%E5%86%85%E6%B6%B5%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">4.2.</span> <span class="toc-text">标准的内涵是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%88%86%E5%B1%82%E6%AC%A1%E7%BA%A7%E5%88%AB"><span class="toc-number">4.3.</span> <span class="toc-text">规范分层次级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">数据库安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-number">5.1.</span> <span class="toc-text">安全性定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7%E5%A8%81%E8%83%81"><span class="toc-number">5.2.</span> <span class="toc-text">安全性威胁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">计算机系统安全模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6%E7%AD%96%E7%95%A5"><span class="toc-number">5.4.</span> <span class="toc-text">数据库安全控制策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oracle%E5%AE%89%E5%85%A8%E6%80%A7%E6%8E%A7%E5%88%B6"><span class="toc-number">5.5.</span> <span class="toc-text">Oracle安全性控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.1.</span> <span class="toc-text">用户管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-1"><span class="toc-number">5.5.2.</span> <span class="toc-text">模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.3.</span> <span class="toc-text">权限管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.4.</span> <span class="toc-text">角色管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">6.</span> <span class="toc-text">数据库完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-number">6.1.</span> <span class="toc-text">完整性定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.</span> <span class="toc-text">完整性类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%80%94%E5%BE%84"><span class="toc-number">6.3.</span> <span class="toc-text">完整性实现的途径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E5%92%8C%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">6.4.</span> <span class="toc-text">完整性和安全性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">7.</span> <span class="toc-text">数据库恢复技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-number">7.1.</span> <span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7acid"><span class="toc-number">7.1.1.</span> <span class="toc-text">事务四个特性(ACID)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E7%9A%84%E7%A7%8D%E7%B1%BB"><span class="toc-number">7.2.</span> <span class="toc-text">故障的种类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%86%85%E9%83%A8%E7%9A%84%E6%95%85%E9%9A%9C"><span class="toc-number">7.2.1.</span> <span class="toc-text">事务内部的故障</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%95%85%E9%9A%9C"><span class="toc-number">7.2.2.</span> <span class="toc-text">系统故障</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C"><span class="toc-number">7.2.3.</span> <span class="toc-text">介质故障</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%97%85%E6%AF%92"><span class="toc-number">7.2.4.</span> <span class="toc-text">计算机病毒</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E7%A7%8D%E6%95%85%E9%9A%9C%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">7.3.</span> <span class="toc-text">各种故障对数据库的影响</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF"><span class="toc-number">7.4.</span> <span class="toc-text">恢复的实现技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%82%A8"><span class="toc-number">7.4.1.</span> <span class="toc-text">数据转储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E5%82%A8%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.1.1.</span> <span class="toc-text">转储方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%BD%AC%E5%82%A8%E4%B8%8E%E5%8A%A8%E6%80%81%E8%BD%AC%E5%82%A8%E8%BD%AC%E5%82%A8%E7%8A%B6%E6%80%81"><span class="toc-number">7.4.1.1.1.</span> <span class="toc-text">静态转储与动态转储（转储状态）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%B7%E9%87%8F%E8%BD%AC%E5%82%A8%E4%B8%8E%E5%A2%9E%E9%87%8F%E8%BD%AC%E5%82%A8%E8%BD%AC%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">7.4.1.1.2.</span> <span class="toc-text">海量转储与增量转储（转储方式）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E8%AE%B0%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">7.4.2.</span> <span class="toc-text">登记日志文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E8%A6%81%E7%99%BB%E8%AE%B0%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">7.4.2.1.</span> <span class="toc-text">日志文件要登记的内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%94%A8%E9%80%94"><span class="toc-number">7.4.2.2.</span> <span class="toc-text">日志文件用途</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%AD%96%E7%95%A5"><span class="toc-number">7.5.</span> <span class="toc-text">恢复策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D"><span class="toc-number">7.5.1.</span> <span class="toc-text">事务故障恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D"><span class="toc-number">7.5.2.</span> <span class="toc-text">系统故障恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D"><span class="toc-number">7.5.3.</span> <span class="toc-text">介质故障恢复</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">8.</span> <span class="toc-text">并发控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4%E6%80%A7%E7%8E%B0%E8%B1%A1"><span class="toc-number">8.1.</span> <span class="toc-text">数据不一致性现象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9"><span class="toc-number">8.1.1.</span> <span class="toc-text">丢失修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E6%97%A0%E6%B3%95%E5%86%8D%E7%8E%B0"><span class="toc-number">8.1.2.</span> <span class="toc-text">不可重复读（无法再现）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E8%84%8F%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%88%B0%E5%9B%9E%E6%BB%9A%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">8.1.3.</span> <span class="toc-text">读“脏”数据（读到回滚，不存在的数据）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">8.1.4.</span> <span class="toc-text">结论</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E6%9C%BA%E5%88%B6%E7%9A%84%E4%BB%BB%E5%8A%A1"><span class="toc-number">8.2.</span> <span class="toc-text">并发控制机制的任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E6%8A%80%E6%9C%AF"><span class="toc-number">8.3.</span> <span class="toc-text">封锁技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E6%A6%82%E5%BF%B5"><span class="toc-number">8.3.1.</span> <span class="toc-text">封锁概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B0%81%E9%94%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.3.2.</span> <span class="toc-text">基本封锁类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%AE%83%E9%94%81x%E9%94%81"><span class="toc-number">8.3.2.1.</span> <span class="toc-text">排它锁（X锁）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E9%94%81s%E9%94%81"><span class="toc-number">8.3.2.2.</span> <span class="toc-text">共享锁（S锁）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.3.3.</span> <span class="toc-text">封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.3.3.1.</span> <span class="toc-text">一级封锁协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.3.3.2.</span> <span class="toc-text">二级封锁协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.3.3.3.</span> <span class="toc-text">三级封锁协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9-1"><span class="toc-number">8.3.3.4.</span> <span class="toc-text">丢失修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB"><span class="toc-number">8.3.3.5.</span> <span class="toc-text">不可重复读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E8%84%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">8.3.3.6.</span> <span class="toc-text">读脏数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B4%BB%E9%94%81%E6%AD%BB%E9%94%81"><span class="toc-number">8.4.</span> <span class="toc-text">活锁死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E6%B4%BB%E9%94%81"><span class="toc-number">8.4.1.</span> <span class="toc-text">避免活锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%AD%BB%E9%94%81"><span class="toc-number">8.4.2.</span> <span class="toc-text">解决死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E9%A2%84%E9%98%B2"><span class="toc-number">8.4.2.1.</span> <span class="toc-text">死锁的预防</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E9%98%B2%E6%AD%BB%E9%94%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">8.4.2.1.1.</span> <span class="toc-text">预防死锁的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E5%B0%81%E9%94%81%E6%B3%95"><span class="toc-number">8.4.2.1.1.1.</span> <span class="toc-text">一次封锁法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%B0%81%E9%94%81%E6%B3%95"><span class="toc-number">8.4.2.1.1.2.</span> <span class="toc-text">顺序封锁法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA-1"><span class="toc-number">8.4.2.1.2.</span> <span class="toc-text">结论</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E8%AF%8A%E6%96%AD%E4%B8%8E%E8%A7%A3%E9%99%A4"><span class="toc-number">8.4.2.2.</span> <span class="toc-text">死锁诊断与解除</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%90%86%E8%AE%BA"><span class="toc-number">9.</span> <span class="toc-text">关系数据理论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90"><span class="toc-number">9.1.</span> <span class="toc-text">关系模式分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">9.2.</span> <span class="toc-text">规范化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">9.2.1.</span> <span class="toc-text">函数依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E4%B8%8E%E9%9D%9E%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">9.2.1.1.</span> <span class="toc-text">平凡函数依赖与非平凡函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E4%B8%8E%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">9.2.1.2.</span> <span class="toc-text">完全函数依赖与部分函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">9.2.1.3.</span> <span class="toc-text">传递函数依赖</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8C%83%E5%BC%8F"><span class="toc-number">9.2.2.</span> <span class="toc-text">范式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nf%E6%80%BB%E7%BB%93"><span class="toc-number">9.2.2.1.</span> <span class="toc-text">NF总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E4%BD%8E%E4%B8%80%E7%BA%A7%E5%90%91%E9%AB%98%E4%B8%80%E7%BA%A7%E8%8C%83%E5%BC%8F%E8%BD%AC%E6%8D%A2%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%80%83%E7%82%B9"><span class="toc-number">9.2.2.2.</span> <span class="toc-text">从低一级向高一级范式转换的基本思考点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nf"><span class="toc-number">9.2.2.3.</span> <span class="toc-text">1NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nf-1"><span class="toc-number">9.2.2.4.</span> <span class="toc-text">2NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nf-2"><span class="toc-number">9.2.2.5.</span> <span class="toc-text">3NF</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%A1%A8%E8%BF%9B%E8%A1%8C%E4%BC%98%E5%8C%96"><span class="toc-number">9.2.3.</span> <span class="toc-text">对表进行优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA%E6%80%BB%E7%BB%93"><span class="toc-number">9.2.4.</span> <span class="toc-text">规范化理论总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%86%E8%A7%A3"><span class="toc-number">9.3.</span> <span class="toc-text">模式的分解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%8D%9F%E8%BF%9E%E6%8E%A5%E6%80%A7"><span class="toc-number">9.3.1.</span> <span class="toc-text">无损连接性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E6%8C%81%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">9.3.2.</span> <span class="toc-text">保持函数依赖</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.</span> <span class="toc-text">数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%BB%BB%E5%8A%A1%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="toc-number">10.1.</span> <span class="toc-text">数据库设计的任务和目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%9B%9B%E5%BC%A0%E5%9B%BE"><span class="toc-number">10.2.</span> <span class="toc-text">数据库设计四张图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%85%AD%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">10.3.</span> <span class="toc-text">数据库设计六个阶段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%89%B9%E7%82%B9"><span class="toc-number">10.4.</span> <span class="toc-text">数据库设计特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">10.5.</span> <span class="toc-text">需求分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E7%9A%84%E4%BB%BB%E5%8A%A1"><span class="toc-number">10.5.1.</span> <span class="toc-text">需求分析的任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E9%87%8D%E7%82%B9"><span class="toc-number">10.5.2.</span> <span class="toc-text">需求分析重点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E8%A6%81%E6%B1%82"><span class="toc-number">10.5.2.1.</span> <span class="toc-text">信息要求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E8%A6%81%E6%B1%82"><span class="toc-number">10.5.2.2.</span> <span class="toc-text">处理要求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95"><span class="toc-number">10.5.3.</span> <span class="toc-text">需求分析方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">10.5.4.</span> <span class="toc-text">数据流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">10.5.5.</span> <span class="toc-text">数据字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">10.5.6.</span> <span class="toc-text">数据字典与数据流程图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.6.</span> <span class="toc-text">概念结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4"><span class="toc-number">10.6.1.</span> <span class="toc-text">概念结构设计步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E5%86%97%E4%BD%99"><span class="toc-number">10.6.2.</span> <span class="toc-text">消除冗余</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.7.</span> <span class="toc-text">逻辑结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%BB%BB%E5%8A%A1"><span class="toc-number">10.7.1.</span> <span class="toc-text">逻辑结构设计任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e-r%E5%9B%BE%E5%90%91%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">10.7.2.</span> <span class="toc-text">E-R图向关系模型的转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%86%85%E5%AE%B9"><span class="toc-number">10.7.2.1.</span> <span class="toc-text">转换内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="toc-number">10.7.2.2.</span> <span class="toc-text">转换原则</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.8.</span> <span class="toc-text">物理结构设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E6%96%BD%E4%B8%8E%E7%BB%B4%E6%8A%A4"><span class="toc-number">10.9.</span> <span class="toc-text">数据库实施与维护</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">实验考试复习整理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="toc-number">11.1.</span> <span class="toc-text">指令总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E5%90%AF%E5%8A%A8oracle%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.2.</span> <span class="toc-text">首先启动Oracle服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8sys%E7%99%BB%E5%BD%95%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-number">11.3.</span> <span class="toc-text">用sys登录数据库新建用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="toc-number">11.4.</span> <span class="toc-text">数据定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">11.4.1.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-number">11.4.2.</span> <span class="toc-text">修改表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">11.4.3.</span> <span class="toc-text">删除表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.5.</span> <span class="toc-text">查询语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.1.</span> <span class="toc-text">单表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8B%A5%E5%B9%B2%E5%88%97"><span class="toc-number">11.5.1.1.</span> <span class="toc-text">选择表中的若干列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E8%A1%A8%E4%B8%AD%E8%8B%A5%E5%B9%B2%E5%85%83%E7%BB%84"><span class="toc-number">11.5.1.2.</span> <span class="toc-text">选择表中若干元组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#distinct"><span class="toc-number">11.5.1.2.1.</span> <span class="toc-text">Distinct</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#where"><span class="toc-number">11.5.1.2.2.</span> <span class="toc-text">where</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F"><span class="toc-number">11.5.1.3.</span> <span class="toc-text">对查询结果排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%9B%86%E5%87%BD%E6%95%B0"><span class="toc-number">11.5.1.4.</span> <span class="toc-text">使用集函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E9%A2%98"><span class="toc-number">11.5.1.4.1.</span> <span class="toc-text">例题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%86%E7%BB%84"><span class="toc-number">11.5.1.5.</span> <span class="toc-text">对查询结果分组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E9%A2%98-1"><span class="toc-number">11.5.1.5.1.</span> <span class="toc-text">例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.2.</span> <span class="toc-text">连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.2.1.</span> <span class="toc-text">等值与非等值连接查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.2.2.</span> <span class="toc-text">自身连接查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.2.3.</span> <span class="toc-text">外连接查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E6%9D%A1%E4%BB%B6%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.2.4.</span> <span class="toc-text">复合条件连接查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.5.3.</span> <span class="toc-text">集合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">11.5.3.1.</span> <span class="toc-text">并操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">11.5.3.2.</span> <span class="toc-text">交操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">11.5.3.3.</span> <span class="toc-text">差操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="toc-number">11.6.</span> <span class="toc-text">数据更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">11.6.1.</span> <span class="toc-text">插入数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%8D%95%E4%B8%AA%E5%85%83%E7%BB%84"><span class="toc-number">11.6.1.1.</span> <span class="toc-text">插入单个元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="toc-number">11.6.1.2.</span> <span class="toc-text">插入子查询结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">11.6.2.</span> <span class="toc-text">修改数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">11.6.3.</span> <span class="toc-text">删除数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oracle%E5%AE%89%E5%85%A8%E6%80%A7%E6%8E%A7%E5%88%B6-1"><span class="toc-number">11.7.</span> <span class="toc-text">Oracle安全性控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-1"><span class="toc-number">11.7.1.</span> <span class="toc-text">用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-number">11.7.1.1.</span> <span class="toc-text">创建用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7"><span class="toc-number">11.7.1.2.</span> <span class="toc-text">修改用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">11.7.1.3.</span> <span class="toc-text">删除用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-2"><span class="toc-number">11.7.2.</span> <span class="toc-text">模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%A6%82%E5%BF%B5"><span class="toc-number">11.7.2.1.</span> <span class="toc-text">模式概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E9%80%89%E6%8B%A9%E4%B8%8E%E5%88%87%E6%8D%A2"><span class="toc-number">11.7.2.2.</span> <span class="toc-text">模式选择与切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AF%B9%E8%B1%A1%E4%B8%8E%E9%9D%9E%E6%A8%A1%E5%BC%8F%E5%AF%B9%E8%B1%A1"><span class="toc-number">11.7.2.3.</span> <span class="toc-text">模式对象与非模式对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%92%8C%E7%94%A8%E6%88%B7"><span class="toc-number">11.7.2.4.</span> <span class="toc-text">模式和用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86-1"><span class="toc-number">11.7.3.</span> <span class="toc-text">权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.1.</span> <span class="toc-text">系统权限</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%88%E4%BA%88%E7%94%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.1.1.</span> <span class="toc-text">授予用户系统权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E6%94%B6%E7%94%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.1.2.</span> <span class="toc-text">回收用户系统权限</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.2.</span> <span class="toc-text">对象权限</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%88%E4%BA%88%E5%AF%B9%E8%B1%A1%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.2.1.</span> <span class="toc-text">授予对象权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E6%94%B6%E5%AF%B9%E8%B1%A1%E6%9D%83%E9%99%90"><span class="toc-number">11.7.3.2.2.</span> <span class="toc-text">回收对象权限</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86-1"><span class="toc-number">11.7.4.</span> <span class="toc-text">角色管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B"><span class="toc-number">11.8.</span> <span class="toc-text">Oracle数据库编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#plsql%E7%AE%80%E4%BB%8B"><span class="toc-number">11.8.1.</span> <span class="toc-text">PL&#x2F;SQL简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">11.8.1.1.</span> <span class="toc-text">变量及数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">11.8.1.2.</span> <span class="toc-text">运算符与表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.8.1.3.</span> <span class="toc-text">流程控制语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.8.1.3.1.</span> <span class="toc-text">条件语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.8.1.3.2.</span> <span class="toc-text">循环语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%A0%87"><span class="toc-number">11.8.2.</span> <span class="toc-text">游标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">11.8.2.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B8%E6%A0%87%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">11.8.2.2.</span> <span class="toc-text">游标使用步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%B8%B8%E6%A0%87"><span class="toc-number">11.8.2.2.1.</span> <span class="toc-text">声明游标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%B8%B8%E6%A0%87"><span class="toc-number">11.8.2.2.2.</span> <span class="toc-text">打开游标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%B8%B8%E6%A0%87%E6%95%B0%E6%8D%AE"><span class="toc-number">11.8.2.2.3.</span> <span class="toc-text">提取游标数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%B8%B8%E6%A0%87"><span class="toc-number">11.8.2.2.4.</span> <span class="toc-text">关闭游标</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B-1"><span class="toc-number">11.8.2.3.</span> <span class="toc-text">例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">11.8.3.</span> <span class="toc-text">存储过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">11.9.</span> <span class="toc-text">触发器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">12.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/05/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="算法分析与设计复习整理">算法分析与设计复习整理</a><time datetime="2023-06-05T10:22:19.000Z" title="发表于 2023-06-05 18:22:19">2023-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/03/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="数字信号处理复习整理">数字信号处理复习整理</a><time datetime="2023-06-03T07:27:40.000Z" title="发表于 2023-06-03 15:27:40">2023-06-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/01/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="数据库复习整理">数据库复习整理</a><time datetime="2023-06-01T07:27:31.000Z" title="发表于 2023-06-01 15:27:31">2023-06-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/05/30/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="编译原理复习整理">编译原理复习整理</a><time datetime="2023-05-30T10:56:01.000Z" title="发表于 2023-05-30 18:56:01">2023-05-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/05/20/%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/%E7%94%B5%E8%B7%AF%E4%B8%8E%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" title="电路与模拟电子技术复习整理">电路与模拟电子技术复习整理</a><time datetime="2023-05-20T11:10:22.000Z" title="发表于 2023-05-20 19:10:22">2023-05-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By WinkySpeed</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2d-widget/autoload.js"></script></body></html>